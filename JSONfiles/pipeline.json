{"type":"PIPELINE","id":"01G4ZAQY7JJ4MR5SJAM009A3TK","application":"demorefapp","name":"testdemopipeline","buildTime":1654613866767,"canceled":false,"limitConcurrent":true,"keepWaitingPipelines":false,"stages":[{"id":"01G4ZAQY8F4V524SZJ9FJJ4ZJA","refId":"1","type":"jenkins","name":"Build","startTime":1654613866953,"endTime":1654613946777,"status":"SUCCEEDED","context":{"propertyFile":"file.properties","consecutiveErrors":0,"queuedBuild":"10421","buildInfo":{"duration":58570,"result":"SUCCESS","number":1265,"name":"Spin-canary-issuegen-build-Deploy","fullDisplayName":"Spin-canary-issuegen-build-Deploy #1265","id":"Spin-canary-issuegen-build-Deploy-1265","scm":[{"sha1":"eb786afbc6438f37cdcaf26fdb30a0c14f8194bb","name":"refs/remotes/origin/master","remoteUrl":"https://github.com/OpsMx/issue-generator.git","branch":"master"}],"building":false,"url":"https://jenkins.opsmx.net:8181/jenkins/job/Spin-canary-issuegen-build-Deploy/1265/","timestamp":"1654613879626","artifacts":[{"reference":"file.properties","fileName":"file.properties","relativePath":"file.properties","name":"Spin-canary-issuegen-build-Deploy","displayPath":"file.properties","type":"jenkins/file","version":"1265","decorated":false}]},"Buildnumber":"issue-canary-gen-1265","GitBranch":"master","buildNumber":1265,"JobNumber":"1265","master":"opsmx-jenkins-spin","GitRepo":"issue-generator","failPipeline":true,"job":"Spin-canary-issuegen-build-Deploy","parameters":{},"continuePipeline":false,"propertyFileContents":{"GitRepo":"issue-generator","Buildnumber":"issue-canary-gen-1265","GitBranch":"master","JobNumber":"1265"}},"outputs":{"buildInfo":{"building":false,"fullDisplayName":"Spin-canary-issuegen-build-Deploy #1265","name":"Spin-canary-issuegen-build-Deploy","number":1265,"duration":58570,"timestamp":"1654613879626","result":"SUCCESS","artifacts":[{"fileName":"file.properties","displayPath":"file.properties","relativePath":"file.properties","reference":"file.properties","name":"Spin-canary-issuegen-build-Deploy","type":"jenkins/file","version":"1265","decorated":false}],"url":"https://jenkins.opsmx.net:8181/jenkins/job/Spin-canary-issuegen-build-Deploy/1265/","id":"Spin-canary-issuegen-build-Deploy-1265","scm":[{"name":"refs/remotes/origin/master","branch":"master","sha1":"eb786afbc6438f37cdcaf26fdb30a0c14f8194bb","remoteUrl":"https://github.com/OpsMx/issue-generator.git"}]},"Buildnumber":"issue-canary-gen-1265","GitBranch":"master","GitRepo":"issue-generator","JobNumber":"1265","propertyFileContents":{"GitRepo":"issue-generator","Buildnumber":"issue-canary-gen-1265","GitBranch":"master","JobNumber":"1265"},"artifacts":[]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.StartJenkinsJobTask","name":"startJenkinsJob","startTime":1654613867016,"endTime":1654613867811,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.MonitorQueuedJenkinsJobTask","name":"waitForJenkinsJobStart","startTime":1654613867868,"endTime":1654613889799,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.MonitorJenkinsJobTask","name":"monitorJenkinsJob","startTime":1654613889859,"endTime":1654613945305,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.GetBuildPropertiesTask","name":"getBuildProperties","startTime":1654613945380,"endTime":1654613945936,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"5","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.GetBuildArtifactsTask","name":"getBuildArtifacts","startTime":1654613945997,"endTime":1654613946716,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":[]},{"id":"01G4ZAQY8FRVKEZ8AFZBSPP2GK","refId":"10","type":"wait","name":"Wait","startTime":1654614824807,"endTime":1654615124955,"status":"SUCCEEDED","context":{"waitTime":300},"outputs":{},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.WaitTask","name":"wait","startTime":1654614824867,"endTime":1654615124895,"status":"SUCCEEDED","stageStart":true,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["8","9"]},{"id":"01G4ZAQY8F1B0GWVXY8N1T1J8W","refId":"11","type":"jenkins","name":"Load","startTime":1654614824808,"endTime":1654617003170,"status":"SUCCEEDED","context":{"consecutiveErrors":0,"queuedBuild":"10425","buildInfo":{"duration":2165055,"result":"SUCCESS","number":85,"name":"Spin-issueGen-LoadTest-demo","fullDisplayName":"Spin-issueGen-LoadTest-demo #85","id":"Spin-issueGen-LoadTest-demo-85","building":false,"url":"https://jenkins.opsmx.net:8181/jenkins/job/Spin-issueGen-LoadTest-demo/85/","timestamp":"1654614834653"},"failPipeline":true,"job":"Spin-issueGen-LoadTest-demo","parameters":{"serviceip":"34.102.7.152","loadtime":"2160"},"buildNumber":85,"continuePipeline":false,"master":"opsmx-jenkins-spin"},"outputs":{"buildInfo":{"building":false,"fullDisplayName":"Spin-issueGen-LoadTest-demo #85","name":"Spin-issueGen-LoadTest-demo","number":85,"duration":2165055,"timestamp":"1654614834653","result":"SUCCESS","url":"https://jenkins.opsmx.net:8181/jenkins/job/Spin-issueGen-LoadTest-demo/85/","id":"Spin-issueGen-LoadTest-demo-85"},"artifacts":[]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.StartJenkinsJobTask","name":"startJenkinsJob","startTime":1654614824876,"endTime":1654614825534,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.MonitorQueuedJenkinsJobTask","name":"waitForJenkinsJobStart","startTime":1654614825595,"endTime":1654614836355,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.MonitorJenkinsJobTask","name":"monitorJenkinsJob","startTime":1654614836465,"endTime":1654617002272,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.GetBuildPropertiesTask","name":"getBuildProperties","startTime":1654617002489,"endTime":1654617002598,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"5","implementingClass":"com.netflix.spinnaker.orca.igor.tasks.GetBuildArtifactsTask","name":"getBuildArtifacts","startTime":1654617002641,"endTime":1654617003090,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["8","9"]},{"id":"01G4ZAQY8FTE523BAPBMQ0KEG5","refId":"12","type":"evaluateVariables","name":"EvaluateStartTime","startTime":1654615125013,"endTime":1654615125294,"status":"SUCCEEDED","context":{"failOnFailedExpressions":true,"variables":[{"key":"startTime","value":1654615125042,"sourceValue":"{new java.util.Date()}"},{"key":"canaryimage","value":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","sourceValue":"quay.io/opsmxpublic/canary-issuegen:{#stage(\"Build\")[\"context\"][\"Buildnumber\"]}"}]},"outputs":{"canaryimage":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","startTime":1654615125042},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.EvaluateVariablesTask","name":"evaluateVariables","startTime":1654615125122,"endTime":1654615125237,"status":"SUCCEEDED","stageStart":true,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["10"]},{"id":"01G4ZAQY8FYA9ZS406KBXGSWY4","refId":"13","type":"scaleManifest","name":"Down-Baseline","startTime":1654617003250,"endTime":1654617018025,"status":"SUCCEEDED","context":{"app":"demorefapp","replicas":"0","manifest.account.name":"prod-account","manifestName":"deployment issuegen-baseline","kato.task.terminalRetryCount":0,"kato.task.firstNotFoundRetry":-1,"mode":"static","outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-baseline"]},"stableManifests":[{"manifestName":"deployment issuegen-baseline","location":"deploy-prod"}],"manifest.location":"deploy-prod","cloudProvider":"kubernetes","kato.result.expected":false,"manifest.name":"deployment issuegen-baseline","deploy.server.groups":{},"messages":[],"failedManifests":[],"location":"deploy-prod","kato.tasks":[{"resultObjects":[],"id":"01G4ZDQVW11W3FT50AS8JN29DR","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesScaleManifestOperation"},{"phase":"SCALE_KUBERNETES_MANIFEST","status":"Starting scale operation..."},{"phase":"SCALE_KUBERNETES_MANIFEST","status":"Looking up resource properties..."},{"phase":"SCALE_KUBERNETES_MANIFEST","status":"Calling scale operation..."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"kato.last.task.id":{"id":"01G4ZDQVW11W3FT50AS8JN29DR"},"kato.task.notFoundRetryCount":0,"account":"prod-account","kato.task.lastStatus":"SUCCEEDED"},"outputs":{},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveTargetManifestTask","name":"resolveTargetManifest","startTime":1654617003593,"endTime":1654617004422,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ScaleManifestTask","name":"scaleManifest","startTime":1654617004497,"endTime":1654617010659,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorScale","startTime":1654617010742,"endTime":1654617016132,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.WaitForManifestStableTask","name":"waitForManifestToStabilize","startTime":1654617016247,"endTime":1654617017489,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["11"]},{"id":"01G4ZAQY8F00Q50P03456CMY4P","refId":"14","type":"scaleManifest","name":"Down-Canary","startTime":1654617005991,"endTime":1654617017520,"status":"SUCCEEDED","context":{"app":"demorefapp","replicas":"0","manifest.account.name":"prod-account","manifestName":"deployment issuegen-canary","kato.task.terminalRetryCount":0,"kato.task.firstNotFoundRetry":-1,"mode":"static","outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-canary"]},"stableManifests":[{"manifestName":"deployment issuegen-canary","location":"deploy-prod"}],"manifest.location":"deploy-prod","cloudProvider":"kubernetes","kato.result.expected":false,"manifest.name":"deployment issuegen-canary","deploy.server.groups":{},"messages":[],"failedManifests":[],"location":"deploy-prod","kato.tasks":[{"resultObjects":[],"id":"01G4ZDQVW1T3ZJKZAFTKWWSR1K","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesScaleManifestOperation"},{"phase":"SCALE_KUBERNETES_MANIFEST","status":"Starting scale operation..."},{"phase":"SCALE_KUBERNETES_MANIFEST","status":"Looking up resource properties..."},{"phase":"SCALE_KUBERNETES_MANIFEST","status":"Calling scale operation..."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"kato.last.task.id":{"id":"01G4ZDQVW1T3ZJKZAFTKWWSR1K"},"kato.task.notFoundRetryCount":0,"account":"prod-account","kato.task.lastStatus":"SUCCEEDED"},"outputs":{},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveTargetManifestTask","name":"resolveTargetManifest","startTime":1654617006154,"endTime":1654617006253,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ScaleManifestTask","name":"scaleManifest","startTime":1654617006319,"endTime":1654617010659,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorScale","startTime":1654617010745,"endTime":1654617016127,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.WaitForManifestStableTask","name":"waitForManifestToStabilize","startTime":1654617016217,"endTime":1654617017369,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["19"]},{"id":"01G4ZAQY8F69D8DJ2RFN7733JX","refId":"18","type":"deployManifest","name":"Prod Deploy","startTime":1654617069219,"endTime":1654617089997,"status":"SUCCEEDED","context":{"deploy.account.name":"prod-account","outputs.createdArtifacts":[{"customKind":false,"reference":"issuegen-prod","metadata":{"account":"prod-account"},"name":"issuegen-prod","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"namespaceOverride":"deploy-prod","source":"text","stableManifests":[{"manifestName":"deployment issuegen-prod","location":"deploy-prod"}],"cloudProvider":"kubernetes","kato.result.expected":false,"trafficManagement":{"options":{"enableTraffic":false,"services":[]},"enabled":false},"deploy.server.groups":{},"kato.last.task.id":{"id":"01G4ZDT3WSENRDQ051HAD5MZD5"},"requiredArtifactIds":["6fa4136d-b357-4d05-8e97-e86a7f82f267"],"requiredArtifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","type":"docker/image"}],"artifacts":[{"customKind":false,"reference":"issuegen-prod","metadata":{"account":"prod-account"},"name":"issuegen-prod","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"kato.task.terminalRetryCount":0,"moniker":{"app":"demorefapp"},"kato.task.firstNotFoundRetry":-1,"outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-prod"]},"optionalArtifacts":[{"customKind":false,"reference":"issuegen-canary","metadata":{"account":"prod-account"},"name":"issuegen-canary","location":"deploy-prod","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"issuegen-baseline","metadata":{"account":"prod-account"},"name":"issuegen-baseline","location":"deploy-prod","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen","metadata":{"account":"qa-account"},"name":"opsmx-issugen","location":"deploy-qa","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen-service","metadata":{"account":"qa-account"},"name":"opsmx-issugen-service","location":"deploy-qa","type":"kubernetes/service","version":""},{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""},{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"},{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}],"outputs.boundArtifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","type":"docker/image"},{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"},{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}],"manifests":[{"metadata":{"name":"issuegen-prod","namespace":"deploy-prod","labels":{"app":"issuegen"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"prometheus_io_path":"/mgmt/prometheus","prometheus.io/scrape":"true","prometheus_io_port":"8088"},"labels":{"app":"issuegen"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-prod","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8088}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":3,"revisionHistoryLimit":2,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}}}}],"messages":["'deployment issuegen-prod' in 'deploy-prod' for account prod-account: waiting for manifest to stabilize"],"failedManifests":[],"kato.tasks":[{"resultObjects":[{"createdArtifacts":[{"customKind":false,"reference":"issuegen-prod","metadata":{"account":"prod-account"},"name":"issuegen-prod","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"manifests":[{"metadata":{"generation":15.0,"uid":"54b212f6-5cfa-492f-ba83-2a8159e71c18","resourceVersion":"47111208","creationTimestamp":"2022-06-04T06:42:02Z","name":"issuegen-prod","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"14","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-prod\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":3,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-prod\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-prod","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":3.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":3.0,"readyReplicas":3.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:42:01Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:42:01Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:42:02Z","message":"ReplicaSet \"issuegen-prod-657944b8c6\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:28:21Z","status":"True"}],"updatedReplicas":3.0,"availableReplicas":3.0,"observedGeneration":14.0}}],"manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-prod"]},"boundArtifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","type":"docker/image"},{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"},{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}]}],"id":"01G4ZDSP3S7F3Y4BHPEBJQPQJM","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesDeployManifestOperation"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Beginning deployment of manifest..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment issuegen-prod from context..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Checking if all requested artifacts were bound..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Sorting manifests by priority..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy order is: deployment issuegen-prod"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Annotating manifest deployment issuegen-prod with artifact, relationships & moniker..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment issuegen-prod from other deployments..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Submitting manifest deployment issuegen-prod to kubernetes master..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy manifest task completed successfully."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}},{"resultObjects":[{"createdArtifacts":[],"manifestNamesByNamespace":{},"boundArtifacts":[]}],"id":"01G4ZDT3WSENRDQ051HAD5MZD5","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesCleanupArtifactsOperation"},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"outputs.manifests":[{"metadata":{"generation":15.0,"uid":"54b212f6-5cfa-492f-ba83-2a8159e71c18","resourceVersion":"47111208","creationTimestamp":"2022-06-04T06:42:02Z","name":"issuegen-prod","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"14","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-prod\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":3,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-prod\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-prod","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":3.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":3.0,"readyReplicas":3.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:42:01Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:42:01Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:42:02Z","message":"ReplicaSet \"issuegen-prod-657944b8c6\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:28:21Z","status":"True"}],"updatedReplicas":3.0,"availableReplicas":3.0,"observedGeneration":14.0}}],"kato.task.notFoundRetryCount":0,"account":"prod-account","skipExpressionEvaluation":false,"kato.task.lastStatus":"SUCCEEDED"},"outputs":{"manifests":[{"metadata":{"name":"issuegen-prod","namespace":"deploy-prod","labels":{"app":"issuegen"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"prometheus_io_path":"/mgmt/prometheus","prometheus.io/scrape":"true","prometheus_io_port":"8088"},"labels":{"app":"issuegen"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-prod","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8088}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":3,"revisionHistoryLimit":2,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}}}}],"requiredArtifacts":[{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"artifactAccount":"docker-registry"}],"optionalArtifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-canary","version":"","location":"deploy-prod","reference":"issuegen-canary","metadata":{"account":"prod-account"}},{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-baseline","version":"","location":"deploy-prod","reference":"issuegen-baseline","metadata":{"account":"prod-account"}},{"type":"kubernetes/deployment","customKind":false,"name":"opsmx-issugen","version":"","location":"deploy-qa","reference":"opsmx-issugen","metadata":{"account":"qa-account"}},{"type":"kubernetes/service","customKind":false,"name":"opsmx-issugen-service","version":"","location":"deploy-qa","reference":"opsmx-issugen-service","metadata":{"account":"qa-account"}},{"type":"kubernetes/job","customKind":false,"version":"","location":"default","metadata":{"account":"default"}},{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{}},{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{}}],"outputs.createdArtifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-prod","version":"","location":"deploy-prod","reference":"issuegen-prod","metadata":{"account":"prod-account"}}],"outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-prod"]},"outputs.boundArtifacts":[{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"artifactAccount":"docker-registry"},{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{}},{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{}}],"outputs.manifests":[{"metadata":{"generation":15.0,"uid":"54b212f6-5cfa-492f-ba83-2a8159e71c18","resourceVersion":"47111208","creationTimestamp":"2022-06-04T06:42:02Z","name":"issuegen-prod","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"14","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-prod\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":3,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-prod\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-prod","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":3.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":3.0,"readyReplicas":3.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:42:01Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:42:01Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:42:02Z","message":"ReplicaSet \"issuegen-prod-657944b8c6\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:28:21Z","status":"True"}],"updatedReplicas":3.0,"availableReplicas":3.0,"observedGeneration":14.0}}],"artifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-prod","version":"","location":"deploy-prod","reference":"issuegen-prod","metadata":{"account":"prod-account"}}]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveDeploySourceManifestTask","name":"resolveDeploySourceManifest","startTime":1654617069327,"endTime":1654617069438,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.DeployManifestTask","name":"deployManifest","startTime":1654617069496,"endTime":1654617069776,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorDeploy","startTime":1654617069832,"endTime":1654617075116,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654617075185,"endTime":1654617075426,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"5","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.WaitForManifestStableTask","name":"waitForManifestToStabilize","startTime":1654617075496,"endTime":1654617082531,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"6","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.artifacts.CleanupArtifactsTask","name":"cleanupArtifacts","startTime":1654617082801,"endTime":1654617084069,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"7","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorCleanup","startTime":1654617084186,"endTime":1654617089550,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"8","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654617089635,"endTime":1654617089753,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"9","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.artifacts.BindProducedArtifactsTask","name":"bindProducedArtifacts","startTime":1654617089812,"endTime":1654617089931,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["13","14","22"]},{"id":"01G4ZAQY8FPPVQ5MWCDTMVNTBW","refId":"19","type":"findArtifactsFromResource","name":"Find Canary Image","startTime":1654617003257,"endTime":1654617005899,"status":"SUCCEEDED","context":{"app":"demorefapp","expectedArtifacts":[{"usePriorArtifact":false,"displayName":"canaryimage","useDefaultArtifact":false,"defaultArtifact":{"customKind":true,"id":"4186b6e0-adc8-4303-a2e1-0c5a5e659212"},"id":"6fa4136d-b357-4d05-8e97-e86a7f82f267","matchArtifact":{"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","id":"5bcdf0d9-a088-49e9-af79-6c386eceec68","type":"docker/image"}}],"mode":"static","manifest":{"metadata":{"generation":38.0,"uid":"dfdb9e50-0521-4426-9061-124a45418e7c","resourceVersion":"47088598","creationTimestamp":"2022-06-04T06:29:55Z","name":"issuegen-canary","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"21","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-canary\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\",\"component\":\"canary\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"component\":\"canary\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"canary\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-canary\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","component":"canary","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-canary","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:50Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:29:55Z","message":"ReplicaSet \"issuegen-canary-588ccc4845\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T15:10:19Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":38.0}},"cloudProvider":"kubernetes","manifestName":"deployment issuegen-canary","resolvedExpectedArtifacts":[{"usePriorArtifact":false,"useDefaultArtifact":false,"defaultArtifact":{"customKind":true,"metadata":{"id":"4186b6e0-adc8-4303-a2e1-0c5a5e659212"}},"id":"6fa4136d-b357-4d05-8e97-e86a7f82f267","boundArtifact":{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"},"matchArtifact":{"customKind":false,"metadata":{"id":"5bcdf0d9-a088-49e9-af79-6c386eceec68"},"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","type":"docker/image"}}],"location":"deploy-prod","account":"prod-account","artifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}]},"outputs":{"manifest":{"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{"artifact.spinnaker.io/location":"deploy-prod","artifact.spinnaker.io/name":"issuegen-canary","artifact.spinnaker.io/type":"kubernetes/deployment","artifact.spinnaker.io/version":"","deployment.kubernetes.io/revision":"21","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-canary\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\",\"component\":\"canary\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"component\":\"canary\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"canary\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-canary\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/application":"demorefapp","moniker.spinnaker.io/cluster":"deployment issuegen-canary","strategy.spinnaker.io/versioned":"false"},"creationTimestamp":"2022-06-04T06:29:55Z","generation":38.0,"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"},"name":"issuegen-canary","namespace":"deploy-prod","resourceVersion":"47088598","uid":"dfdb9e50-0521-4426-9061-124a45418e7c"},"spec":{"progressDeadlineSeconds":600.0,"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"},"type":"RollingUpdate"},"template":{"metadata":{"annotations":{"artifact.spinnaker.io/location":"deploy-prod","artifact.spinnaker.io/name":"issuegen-canary","artifact.spinnaker.io/type":"kubernetes/deployment","artifact.spinnaker.io/version":"","moniker.spinnaker.io/application":"demorefapp","moniker.spinnaker.io/cluster":"deployment issuegen-canary","prometheus.io/scrape":"true","prometheus_io_path":"/mgmt/prometheus","prometheus_io_port":"8088"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp","component":"canary"}},"spec":{"containers":[{"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","name":"issuegen-canary","ports":[{"containerPort":8088.0,"name":"http","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File"}],"dnsPolicy":"ClusterFirst","restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"terminationGracePeriodSeconds":30.0}}},"status":{"availableReplicas":1.0,"conditions":[{"lastTransitionTime":"2022-06-07T14:02:50Z","lastUpdateTime":"2022-06-07T14:02:50Z","message":"Deployment has minimum availability.","reason":"MinimumReplicasAvailable","status":"True","type":"Available"},{"lastTransitionTime":"2022-06-04T06:29:55Z","lastUpdateTime":"2022-06-07T15:10:19Z","message":"ReplicaSet \"issuegen-canary-588ccc4845\" has successfully progressed.","reason":"NewReplicaSetAvailable","status":"True","type":"Progressing"}],"observedGeneration":38.0,"readyReplicas":1.0,"replicas":1.0,"updatedReplicas":1.0}},"artifacts":[{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{}}],"resolvedExpectedArtifacts":[{"matchArtifact":{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","metadata":{"id":"5bcdf0d9-a088-49e9-af79-6c386eceec68"},"artifactAccount":"docker-registry"},"usePriorArtifact":false,"useDefaultArtifact":false,"defaultArtifact":{"customKind":true,"metadata":{"id":"4186b6e0-adc8-4303-a2e1-0c5a5e659212"}},"id":"6fa4136d-b357-4d05-8e97-e86a7f82f267","boundArtifact":{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","metadata":{}}}]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveTargetManifestTask","name":"resolveTargetManifest","startTime":1654617003539,"endTime":1654617003712,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.artifacts.FindArtifactsFromResourceTask","name":"findArtifactsFromResource","startTime":1654617004428,"endTime":1654617005611,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.artifacts.BindProducedArtifactsTask","name":"bindProducedArtifacts","startTime":1654617005675,"endTime":1654617005805,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["11"]},{"id":"01G4ZAQY8F5ZARJ8MTCEBCYB9F","refId":"2","type":"runJobManifest","name":"SonarQube Scan","startTime":1654613946837,"endTime":1654614029347,"status":"SUCCEEDED","context":{"notification.type":"runjob","deploy.account.name":"default","outputs.createdArtifacts":[{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""}],"jobStatus":{"provider":"kubernetes","completionDetails":{"reason":"","exitCode":"","message":"","signal":""},"jobState":"Succeeded","name":"sonar-test4glrf","createdTime":1654613951000,"location":"default","pods":[{"name":"sonar-test4glrf-gsss9","status":{"phase":"Succeeded","podIP":"10.4.1.173","containerStatuses":[{"image":"docker.io/sonarsource/sonar-scanner-cli:latest","imageID":"docker.io/sonarsource/sonar-scanner-cli@sha256:c16d616d7a503f1089515574d0859f62d35c44f06d640dec1c2b5fda8b2f4c6c","restartCount":0,"ready":false,"name":"sonarservice","started":false,"state":{"terminated":{"reason":"Completed","exitCode":0,"startedAt":1654613953000,"containerID":"containerd://a0c4daa7ca956837bda4503d750d510e3c98bea128ed0905f86f2ccebd517a6a","finishedAt":1654614021000}},"containerID":"containerd://a0c4daa7ca956837bda4503d750d510e3c98bea128ed0905f86f2ccebd517a6a","lastState":{}}],"hostIP":"10.168.0.11","startTime":1654613951000,"qosClass":"BestEffort","conditions":[{"reason":"PodCompleted","lastTransitionTime":1654613951000,"type":"Initialized","status":"True"},{"reason":"PodCompleted","lastTransitionTime":1654614021000,"type":"Ready","status":"False"},{"reason":"PodCompleted","lastTransitionTime":1654614021000,"type":"ContainersReady","status":"False"},{"lastTransitionTime":1654613951000,"type":"PodScheduled","status":"True"}],"podIPs":[{"ip":"10.4.1.173"}]}}],"account":"default"},"propertyFile":"sonarservice","credentials":"default","completionDetails":{"reason":"","exitCode":"","message":"","signal":""},"consumeArtifactSource":"propertyFile","source":"text","cloudProvider":"kubernetes","kato.result.expected":false,"alias":"runJob","deploy.server.groups":{},"kato.last.task.id":{"id":"01G4ZATFHKHVQ78ADDYDQTD31E"},"key":"issue-generator","artifacts":[{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""}],"comments":"<a href=\"https://sonar.opsmx.com/dashboard?id=issue-generator&branch=master\">Check_SonarQube</a>","manifest":{"metadata":{"namespace":"default","generateName":"sonar-test","labels":{"webhook":"sonartest"}},"apiVersion":"batch/v1","kind":"Job","spec":{"template":{"spec":{"volumes":[{"configMap":{"defaultMode":420,"name":"basic-sonar-property"},"name":"basic-sonar-property"}],"containers":[{"args":["\necho SPINNAKER_PROPERTY_KEY=$projectkey\n### git repo for scan ###\ngit clone https://github.com/OpsMx/issue-generator $projectkey\n\ndest_file=\"/opt/sonar-scanner/conf/sonar-scanner.properties\"\n\nsonar_sourcepath=\"\\/usr\\/src\\/$projectkey\"\n#sonar_sourcepath=\"$projectkey\"\n##### sonar hosturl without protocol (i.e https) ###\nsonar_hosturl=\"sonar.opsmx.com\" \necho SPINNAKER_PROPERTY_HOSTURL=$sonar_hosturl\n\nproj_version=\"1.0\"\n\nsonar_username=$sonarusername\n\nsonar_password=$sonarpassword\n\ncp  /home/sonar-scanner.properties  $dest_file\n\nsed -i -e \"s/sonar_host_url/$sonar_hosturl/g\"  $dest_file\n\nsed -i -e \"s/sonar_projectkey/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectname/$projectname/g\" $dest_file\n\nsed -i -e \"s/sonar_binary/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectversion/$proj_version/g\" $dest_file\n\nsed -i -e \"s/sonar_sources/$sonar_sourcepath/g\"  $dest_file\n\nsed -i -e \"s/sonar_login/$sonar_username/g\"  $dest_file\n\nsed -i -e \"s/sonar_password/$sonar_password/g\"  $dest_file\napk add jq\nruncmd=`sonar-scanner`\nreport=$(curl -X GET \"https://$sonar_hosturl/api/qualitygates/project_status?projectKey=$projectkey\" -H 'authorization: Basic YWRtaW46VDB1Z2gxLTJDckBjaw==' -H 'content-type: application/json' | jq -r '.projectStatus.status')\n\necho SPINNAKER_PROPERTY_REPORT=$report"],"image":"sonarsource/sonar-scanner-cli:latest","name":"sonarservice","env":[{"name":"projectkey","value":"issue-generator"},{"name":"projectname","value":"issuegen"},{"name":"sonarusername","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarusername"}}},{"name":"sonarpassword","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarpassword"}}}],"command":["/bin/sh","+x","-c"],"volumeMounts":[{"mountPath":"/home/sonar-scanner.properties","name":"basic-sonar-property","subPath":"sonar-scanner.properties"}]}],"restartPolicy":"Never"}},"backoffLimit":1,"ttlSecondsAfterFinished":100}},"kato.task.terminalRetryCount":0,"kato.task.firstNotFoundRetry":-1,"outputs.manifestNamesByNamespace":{"default":["job sonar-test4glrf"]},"application":"demorefapp","outputs.boundArtifacts":[],"report":"OK","kato.tasks":[{"resultObjects":[{"createdArtifacts":[{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""}],"deployedNamesByLocation":{"default":["job sonar-test4glrf"]},"manifests":[{"metadata":{"uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7","resourceVersion":"47082411","creationTimestamp":"2022-06-07T14:59:11Z","name":"sonar-test4glrf","namespace":"default","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/location":"default","strategy.spinnaker.io/recreate":"true","artifact.spinnaker.io/type":"kubernetes/job","moniker.spinnaker.io/cluster":"job null","moniker.spinnaker.io/application":"demorefapp"},"generateName":"sonar-test","labels":{"app.kubernetes.io/managed-by":"spinnaker","webhook":"sonartest","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"batch/v1","kind":"Job","spec":{"template":{"metadata":{"labels":{"job-name":"sonar-test4glrf","controller-uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"volumes":[{"configMap":{"defaultMode":420.0,"name":"basic-sonar-property"},"name":"basic-sonar-property"}],"containers":[{"args":["\necho SPINNAKER_PROPERTY_KEY=$projectkey\n### git repo for scan ###\ngit clone https://github.com/OpsMx/issue-generator $projectkey\n\ndest_file=\"/opt/sonar-scanner/conf/sonar-scanner.properties\"\n\nsonar_sourcepath=\"\\/usr\\/src\\/$projectkey\"\n#sonar_sourcepath=\"$projectkey\"\n##### sonar hosturl without protocol (i.e https) ###\nsonar_hosturl=\"sonar.opsmx.com\" \necho SPINNAKER_PROPERTY_HOSTURL=$sonar_hosturl\n\nproj_version=\"1.0\"\n\nsonar_username=$sonarusername\n\nsonar_password=$sonarpassword\n\ncp  /home/sonar-scanner.properties  $dest_file\n\nsed -i -e \"s/sonar_host_url/$sonar_hosturl/g\"  $dest_file\n\nsed -i -e \"s/sonar_projectkey/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectname/$projectname/g\" $dest_file\n\nsed -i -e \"s/sonar_binary/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectversion/$proj_version/g\" $dest_file\n\nsed -i -e \"s/sonar_sources/$sonar_sourcepath/g\"  $dest_file\n\nsed -i -e \"s/sonar_login/$sonar_username/g\"  $dest_file\n\nsed -i -e \"s/sonar_password/$sonar_password/g\"  $dest_file\napk add jq\nruncmd=`sonar-scanner`\nreport=$(curl -X GET \"https://$sonar_hosturl/api/qualitygates/project_status?projectKey=$projectkey\" -H 'authorization: Basic YWRtaW46VDB1Z2gxLTJDckBjaw==' -H 'content-type: application/json' | jq -r '.projectStatus.status')\n\necho SPINNAKER_PROPERTY_REPORT=$report"],"image":"sonarsource/sonar-scanner-cli:latest","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"sonarservice","resources":{},"env":[{"name":"projectkey","value":"issue-generator"},{"name":"projectname","value":"issuegen"},{"name":"sonarusername","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarusername"}}},{"name":"sonarpassword","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarpassword"}}}],"command":["/bin/sh","+x","-c"],"volumeMounts":[{"mountPath":"/home/sonar-scanner.properties","name":"basic-sonar-property","subPath":"sonar-scanner.properties"}]}],"securityContext":{},"restartPolicy":"Never","schedulerName":"default-scheduler"}},"backoffLimit":1.0,"parallelism":1.0,"completions":1.0,"selector":{"matchLabels":{"controller-uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7"}},"ttlSecondsAfterFinished":100.0},"status":{}}],"manifestNamesByNamespace":{"default":["job sonar-test4glrf"]},"boundArtifacts":[]}],"id":"01G4ZATFHKHVQ78ADDYDQTD31E","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesRunJobOperation"},{"phase":"RUN_KUBERNETES_JOB","status":"Running Kubernetes job..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Beginning deployment of manifest..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in job null from context..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for job..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Checking if all requested artifacts were bound..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Sorting manifests by priority..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy order is: job null"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for job..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Annotating manifest job null with artifact, relationships & moniker..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in job null from other deployments..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Submitting manifest job null to kubernetes master..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy manifest task completed successfully."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"deploy.jobs":{"default":["job sonar-test4glrf"]},"outputs.manifests":[{"metadata":{"uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7","resourceVersion":"47082411","creationTimestamp":"2022-06-07T14:59:11Z","name":"sonar-test4glrf","namespace":"default","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/location":"default","strategy.spinnaker.io/recreate":"true","artifact.spinnaker.io/type":"kubernetes/job","moniker.spinnaker.io/cluster":"job null","moniker.spinnaker.io/application":"demorefapp"},"generateName":"sonar-test","labels":{"app.kubernetes.io/managed-by":"spinnaker","webhook":"sonartest","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"batch/v1","kind":"Job","spec":{"template":{"metadata":{"labels":{"job-name":"sonar-test4glrf","controller-uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"volumes":[{"configMap":{"defaultMode":420.0,"name":"basic-sonar-property"},"name":"basic-sonar-property"}],"containers":[{"args":["\necho SPINNAKER_PROPERTY_KEY=$projectkey\n### git repo for scan ###\ngit clone https://github.com/OpsMx/issue-generator $projectkey\n\ndest_file=\"/opt/sonar-scanner/conf/sonar-scanner.properties\"\n\nsonar_sourcepath=\"\\/usr\\/src\\/$projectkey\"\n#sonar_sourcepath=\"$projectkey\"\n##### sonar hosturl without protocol (i.e https) ###\nsonar_hosturl=\"sonar.opsmx.com\" \necho SPINNAKER_PROPERTY_HOSTURL=$sonar_hosturl\n\nproj_version=\"1.0\"\n\nsonar_username=$sonarusername\n\nsonar_password=$sonarpassword\n\ncp  /home/sonar-scanner.properties  $dest_file\n\nsed -i -e \"s/sonar_host_url/$sonar_hosturl/g\"  $dest_file\n\nsed -i -e \"s/sonar_projectkey/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectname/$projectname/g\" $dest_file\n\nsed -i -e \"s/sonar_binary/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectversion/$proj_version/g\" $dest_file\n\nsed -i -e \"s/sonar_sources/$sonar_sourcepath/g\"  $dest_file\n\nsed -i -e \"s/sonar_login/$sonar_username/g\"  $dest_file\n\nsed -i -e \"s/sonar_password/$sonar_password/g\"  $dest_file\napk add jq\nruncmd=`sonar-scanner`\nreport=$(curl -X GET \"https://$sonar_hosturl/api/qualitygates/project_status?projectKey=$projectkey\" -H 'authorization: Basic YWRtaW46VDB1Z2gxLTJDckBjaw==' -H 'content-type: application/json' | jq -r '.projectStatus.status')\n\necho SPINNAKER_PROPERTY_REPORT=$report"],"image":"sonarsource/sonar-scanner-cli:latest","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"sonarservice","resources":{},"env":[{"name":"projectkey","value":"issue-generator"},{"name":"projectname","value":"issuegen"},{"name":"sonarusername","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarusername"}}},{"name":"sonarpassword","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarpassword"}}}],"command":["/bin/sh","+x","-c"],"volumeMounts":[{"mountPath":"/home/sonar-scanner.properties","name":"basic-sonar-property","subPath":"sonar-scanner.properties"}]}],"securityContext":{},"restartPolicy":"Never","schedulerName":"default-scheduler"}},"backoffLimit":1.0,"parallelism":1.0,"completions":1.0,"selector":{"matchLabels":{"controller-uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7"}},"ttlSecondsAfterFinished":100.0},"status":{}}],"hosturl":"sonar.opsmx.com","kato.task.notFoundRetryCount":0,"account":"default","kato.task.lastStatus":"SUCCEEDED","propertyFileContents":{"report":"OK","hosturl":"sonar.opsmx.com","key":"issue-generator"}},"outputs":{"outputs.createdArtifacts":[{"type":"kubernetes/job","customKind":false,"version":"","location":"default","metadata":{"account":"default"}}],"outputs.manifestNamesByNamespace":{"default":["job sonar-test4glrf"]},"outputs.boundArtifacts":[],"outputs.manifests":[{"metadata":{"uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7","resourceVersion":"47082411","creationTimestamp":"2022-06-07T14:59:11Z","name":"sonar-test4glrf","namespace":"default","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/location":"default","strategy.spinnaker.io/recreate":"true","artifact.spinnaker.io/type":"kubernetes/job","moniker.spinnaker.io/cluster":"job null","moniker.spinnaker.io/application":"demorefapp"},"generateName":"sonar-test","labels":{"app.kubernetes.io/managed-by":"spinnaker","webhook":"sonartest","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"batch/v1","kind":"Job","spec":{"template":{"metadata":{"labels":{"job-name":"sonar-test4glrf","controller-uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"volumes":[{"configMap":{"defaultMode":420.0,"name":"basic-sonar-property"},"name":"basic-sonar-property"}],"containers":[{"args":["\necho SPINNAKER_PROPERTY_KEY=$projectkey\n### git repo for scan ###\ngit clone https://github.com/OpsMx/issue-generator $projectkey\n\ndest_file=\"/opt/sonar-scanner/conf/sonar-scanner.properties\"\n\nsonar_sourcepath=\"\\/usr\\/src\\/$projectkey\"\n#sonar_sourcepath=\"$projectkey\"\n##### sonar hosturl without protocol (i.e https) ###\nsonar_hosturl=\"sonar.opsmx.com\" \necho SPINNAKER_PROPERTY_HOSTURL=$sonar_hosturl\n\nproj_version=\"1.0\"\n\nsonar_username=$sonarusername\n\nsonar_password=$sonarpassword\n\ncp  /home/sonar-scanner.properties  $dest_file\n\nsed -i -e \"s/sonar_host_url/$sonar_hosturl/g\"  $dest_file\n\nsed -i -e \"s/sonar_projectkey/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectname/$projectname/g\" $dest_file\n\nsed -i -e \"s/sonar_binary/$projectkey/g\" $dest_file\n\nsed -i -e \"s/sonar_projectversion/$proj_version/g\" $dest_file\n\nsed -i -e \"s/sonar_sources/$sonar_sourcepath/g\"  $dest_file\n\nsed -i -e \"s/sonar_login/$sonar_username/g\"  $dest_file\n\nsed -i -e \"s/sonar_password/$sonar_password/g\"  $dest_file\napk add jq\nruncmd=`sonar-scanner`\nreport=$(curl -X GET \"https://$sonar_hosturl/api/qualitygates/project_status?projectKey=$projectkey\" -H 'authorization: Basic YWRtaW46VDB1Z2gxLTJDckBjaw==' -H 'content-type: application/json' | jq -r '.projectStatus.status')\n\necho SPINNAKER_PROPERTY_REPORT=$report"],"image":"sonarsource/sonar-scanner-cli:latest","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"sonarservice","resources":{},"env":[{"name":"projectkey","value":"issue-generator"},{"name":"projectname","value":"issuegen"},{"name":"sonarusername","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarusername"}}},{"name":"sonarpassword","valueFrom":{"secretKeyRef":{"name":"sonar-secret","key":"sonarpassword"}}}],"command":["/bin/sh","+x","-c"],"volumeMounts":[{"mountPath":"/home/sonar-scanner.properties","name":"basic-sonar-property","subPath":"sonar-scanner.properties"}]}],"securityContext":{},"restartPolicy":"Never","schedulerName":"default-scheduler"}},"backoffLimit":1.0,"parallelism":1.0,"completions":1.0,"selector":{"matchLabels":{"controller-uid":"48bd92cf-a035-4bd5-8650-f3f6f5a355c7"}},"ttlSecondsAfterFinished":100.0},"status":{}}],"artifacts":[{"type":"kubernetes/job","customKind":false,"version":"","location":"default","metadata":{"account":"default"}}],"jobStatus":{"account":"default","completionDetails":{"exitCode":"","message":"","reason":"","signal":""},"createdTime":1654613951000,"jobState":"Succeeded","location":"default","name":"sonar-test4glrf","pods":[{"name":"sonar-test4glrf-gsss9","status":{"conditions":[{"lastTransitionTime":1654613951000,"reason":"PodCompleted","status":"True","type":"Initialized"},{"lastTransitionTime":1654614021000,"reason":"PodCompleted","status":"False","type":"Ready"},{"lastTransitionTime":1654614021000,"reason":"PodCompleted","status":"False","type":"ContainersReady"},{"lastTransitionTime":1654613951000,"status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"containerd://a0c4daa7ca956837bda4503d750d510e3c98bea128ed0905f86f2ccebd517a6a","image":"docker.io/sonarsource/sonar-scanner-cli:latest","imageID":"docker.io/sonarsource/sonar-scanner-cli@sha256:c16d616d7a503f1089515574d0859f62d35c44f06d640dec1c2b5fda8b2f4c6c","lastState":{},"name":"sonarservice","ready":false,"restartCount":0,"started":false,"state":{"terminated":{"containerID":"containerd://a0c4daa7ca956837bda4503d750d510e3c98bea128ed0905f86f2ccebd517a6a","exitCode":0,"finishedAt":1654614021000,"reason":"Completed","startedAt":1654613953000}}}],"hostIP":"10.168.0.11","phase":"Succeeded","podIP":"10.4.1.173","podIPs":[{"ip":"10.4.1.173"}],"qosClass":"BestEffort","startTime":1654613951000}}],"provider":"kubernetes"},"completionDetails":{"exitCode":"","message":"","reason":"","signal":""},"hosturl":"sonar.opsmx.com","key":"issue-generator","report":"OK","propertyFileContents":{"hosturl":"sonar.opsmx.com","key":"issue-generator","report":"OK"}},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.job.RunJobTask","name":"runJob","startTime":1654613946947,"endTime":1654613950396,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.job.MonitorJobTask","name":"monitorDeploy","startTime":1654613950456,"endTime":1654613955687,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654613955747,"endTime":1654613955861,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.job.WaitOnJobCompletion","name":"waitOnJobCompletion","startTime":1654613955918,"endTime":1654614029289,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["1"]},{"id":"01G4ZAQY8F66W0ETSJMFJSXCM0","refId":"20","type":"verification","name":"AutomatedCanaryVerification","startTime":1654615125351,"endTime":1654616977580,"status":"SUCCEEDED","context":{"payloadConstraint":[],"parameters":{"canarystarttime":1654615125042,"log":"true","metric":"true","lifetime":"0.5","baselinestarttime":1654615125042,"canaryresultscore":"75","gate":"AutomatedCanaryVerification","minicanaryresult":"50","gateurl":"http://oes-gate:8084/autopilot/api/v3/registerCanary","imageids":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265"}},"outputs":{"location":"http://oes-gate:8084/autopilot/canaries/210","trigger":"SUCCESS","trigger_json":"Payload Json - {\"application\":\"demorefapp\",\"isJsonResponse\":true,\"executionId\":\"01G4ZAQY7JJ4MR5SJAM009A3TK\",\"imageIds\":[\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\"],\"payloadConstraint\":[],\"canaryConfig\":{\"lifetimeHours\":\"0.5\",\"canaryHealthCheckHandler\":{\"minimumCanaryResultScore\":50},\"canarySuccessCriteria\":{\"canaryResultScore\":75},\"name\":\"adminchange\"},\"canaryDeployments\":[{\"baseline\":{\"log\":{\"testdemopipeline\":{\"pipelineName\":\"testdemopipeline\",\"serviceGate\":\"AutomatedCanaryVerification\"}},\"metric\":{\"testdemopipeline\":{\"pipelineName\":\"testdemopipeline\",\"serviceGate\":\"AutomatedCanaryVerification\"}}},\"canary\":{\"log\":{\"testdemopipeline\":{\"pipelineName\":\"testdemopipeline\",\"serviceGate\":\"AutomatedCanaryVerification\"}},\"metric\":{\"testdemopipeline\":{\"pipelineName\":\"testdemopipeline\",\"serviceGate\":\"AutomatedCanaryVerification\"}}},\"baselineStartTimeMs\":1654615125042,\"canaryStartTimeMs\":1654615125042}]}","overallResult":"Review","canaryReportURL":"https://isd.autopilot.opsmx.com/ui/application/deploymentverification/demorefapp/210","overallScore":62.81,"reason":"Analysis score is between 'minimum canary result score' and 'maximum canary result score'."},"tasks":[{"id":"1","implementingClass":"com.opsmx.plugin.stage.custom.VerificationTriggerTask","name":"verificationTrigger","startTime":1654615125461,"endTime":1654615125740,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.opsmx.plugin.stage.custom.VerificationMonitorTask","name":"verificationMonitor","startTime":1654615125796,"endTime":1654616977510,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["12"]},{"id":"01G4ZAQY8F9D05V370SF99VRHD","refId":"21","type":"policy","name":"CheckProdPolicy","startTime":1654616977648,"endTime":1654616978098,"status":"SUCCEEDED","context":{"payloadConstraint":[],"parameters":{"policyurl":"http://oes-sapor:8085","payload":"","gate":"CheckProdPolicy","imageids":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","policypath":"/v1/data/opsmx/blackoutwindow"}},"outputs":{"executedBy":"adminchange","message":"","trigger_json":"Payload json - {\"startTime\":1654616977799,\"application\":\"demorefapp\",\"name\":\"testdemopipeline\",\"stage\":\"CheckProdPolicy\",\"executionId\":\"01G4ZAQY7JJ4MR5SJAM009A3TK\",\"trigger\":{\"user\":\"adminchange\"},\"imageIds\":[\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\"],\"payloadConstraint\":[]}","status":"allow"},"tasks":[{"id":"1","implementingClass":"com.opsmx.plugin.stage.custom.PolicyTask","name":"policy","startTime":1654616977728,"endTime":1654616978038,"status":"SUCCEEDED","stageStart":true,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["20"]},{"id":"01G4ZAQY8FX461ZK92XPTTFTKX","refId":"22","type":"approval","name":"ApproveToProd","startTime":1654616978157,"endTime":1654617069161,"status":"SUCCEEDED","context":{"payloadConstraint":[],"parameters":{"connectors":[{"connectorType":"JIRA","helpText":"Jira","values":[{"jira_ticket_no":"ENG-519"}],"supportedParams":[{"helpText":"Jira Id","name":"jira_ticket_no","label":"Jira Id","type":"array"}],"label":"Jira","isMultiSupported":false},{"connectorType":"SONARQUBE","helpText":"Sonarqube","values":[{"projectKey":"issue-generator","branch":"master"}],"supportedParams":[{"helpText":"Branch Name","name":"branch","label":"Branch Name","type":"string"},{"helpText":"Project Key","name":"projectKey","label":"Project Key","type":"array"}],"label":"Sonarqube","isMultiSupported":true},{"connectorType":"JENKINS","helpText":"Jenkins","values":[{"artifact":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","buildId":"1265","job":"Spin-canary-issuegen-build-Deploy"}],"supportedParams":[{"helpText":"Job Name","name":"job","label":"Job Name","type":"string"},{"helpText":"Build","name":"buildId","label":"Build","type":"string"},{"helpText":"Artifact","name":"artifact","label":"Artifact","type":"string"}],"label":"Jenkins","isMultiSupported":true}],"gateUrl":"http://oes-gate:8084/visibilityservice/v5/approvalGates/11/trigger","imageIds":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265"}},"outputs":{"navigationalURL":"https://isd.autopilot.opsmx.com/ui/application/visibility/11/82/11","location":"http://oes-gate:8084/visibilityservice/v2/approvalGateInstances/217/status","trigger":"SUCCESS","trigger_json":"Payload json - {\"approvalCallbackURL\":\"http://oes-platform:8095/callbackurl\",\"rejectionCallbackURL\":\"http://oes-platform:8095/rejectionbackurl\",\"executionId\":\"01G4ZAQY7JJ4MR5SJAM009A3TK\",\"payloadConstraint\":[],\"imageIds\":[\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\"],\"toolConnectorParameters\":[{\"connectorType\":\"JIRA\",\"parameters\":[{\"jira_ticket_no\":[\"ENG-519\"]}]},{\"connectorType\":\"SONARQUBE\",\"parameters\":[{\"projectKey\":[\"issue-generator\"],\"branch\":\"master\"}]},{\"connectorType\":\"JENKINS\",\"parameters\":[{\"artifact\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"buildId\":\"1265\",\"job\":\"Spin-canary-issuegen-build-Deploy\"}]}],\"customConnectorData\":[]}","status":"approved","comments":""},"tasks":[{"id":"1","implementingClass":"com.opsmx.plugin.stage.custom.ApprovalTriggerTask","name":"approvalTrigger","startTime":1654616978263,"endTime":1654616978599,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.opsmx.plugin.stage.custom.ApprovalMonitorTask","name":"approvalMonitor","startTime":1654616978657,"endTime":1654617069101,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["21"]},{"id":"01G4ZAQY8F25R4TMMNQDJHB5K3","refId":"3","type":"deployManifest","name":"Deploy to QA","startTime":1654614029405,"endTime":1654614085499,"status":"SUCCEEDED","context":{"deploy.account.name":"qa-account","outputs.createdArtifacts":[{"customKind":false,"reference":"opsmx-issugen","metadata":{"account":"qa-account"},"name":"opsmx-issugen","location":"deploy-qa","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen-service","metadata":{"account":"qa-account"},"name":"opsmx-issugen-service","location":"deploy-qa","type":"kubernetes/service","version":""}],"namespaceOverride":"deploy-qa","source":"text","stableManifests":[{"manifestName":"service opsmx-issugen-service","location":"deploy-qa"},{"manifestName":"deployment opsmx-issugen","location":"deploy-qa"}],"cloudProvider":"kubernetes","kato.result.expected":false,"trafficManagement":{"options":{"enableTraffic":false},"enabled":false},"deploy.server.groups":{},"kato.last.task.id":{"id":"01G4ZAYE4RF9ZCHJA25B7238YW"},"requiredArtifacts":[],"artifacts":[{"customKind":false,"reference":"opsmx-issugen","metadata":{"account":"qa-account"},"name":"opsmx-issugen","location":"deploy-qa","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen-service","metadata":{"account":"qa-account"},"name":"opsmx-issugen-service","location":"deploy-qa","type":"kubernetes/service","version":""}],"kato.task.terminalRetryCount":0,"moniker":{"app":"demorefapp"},"kato.task.firstNotFoundRetry":-1,"outputs.manifestNamesByNamespace":{"deploy-qa":["deployment opsmx-issugen","service opsmx-issugen-service"]},"optionalArtifacts":[{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""}],"outputs.boundArtifacts":[],"manifests":[{"metadata":{"name":"opsmx-issugen","annotations":{"strategy.spinnaker.io/max-version-history":"2"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"labels":{"app":"opsmx-issugen","version":"issue-canary-gen-1265"}},"spec":{"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","name":"canary-issuegen","ports":[{"protocol":"TCP","name":"http","containerPort":8080}]}]}},"replicas":1,"revisionHistoryLimit":2,"selector":{"matchLabels":{"app":"opsmx-issugen"}}}},{"metadata":{"name":"opsmx-issugen-service"},"apiVersion":"v1","kind":"Service","spec":{"selector":{"app":"opsmx-issugen"},"ports":[{"protocol":"TCP","port":8080,"name":"canary","targetPort":8080},{"protocol":"TCP","port":9090,"name":"reports","targetPort":9090}],"type":"ClusterIP"}}],"messages":["'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize","'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize","'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize","'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize","'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize","'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize","'deployment opsmx-issugen' in 'deploy-qa' for account qa-account: waiting for manifest to stabilize"],"failedManifests":[],"kato.tasks":[{"resultObjects":[{"createdArtifacts":[{"customKind":false,"reference":"opsmx-issugen","metadata":{"account":"qa-account"},"name":"opsmx-issugen","location":"deploy-qa","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen-service","metadata":{"account":"qa-account"},"name":"opsmx-issugen-service","location":"deploy-qa","type":"kubernetes/service","version":""}],"manifests":[{"metadata":{"generation":246.0,"uid":"edc79610-ff50-4e4d-9957-ddc01a21176f","resourceVersion":"47083142","creationTimestamp":"2022-04-12T02:20:01Z","name":"opsmx-issugen","namespace":"deploy-qa","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"opsmx-issugen","strategy.spinnaker.io/max-version-history":"2","artifact.spinnaker.io/location":"deploy-qa","deployment.kubernetes.io/revision":"241","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment opsmx-issugen\",\"strategy.spinnaker.io/max-version-history\":\"2\"},\"labels\":{\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"opsmx-issugen\",\"namespace\":\"deploy-qa\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"opsmx-issugen\"}},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment opsmx-issugen\"},\"labels\":{\"app\":\"opsmx-issugen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"version\":\"issue-canary-gen-1265\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"canary-issuegen\",\"ports\":[{\"containerPort\":8080,\"name\":\"http\",\"protocol\":\"TCP\"}]}]}}}}\n","moniker.spinnaker.io/cluster":"deployment opsmx-issugen","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"opsmx-issugen","artifact.spinnaker.io/location":"deploy-qa","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment opsmx-issugen","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"opsmx-issugen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp","version":"issue-canary-gen-1265"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"canary-issuegen","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8080.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"opsmx-issugen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:36:58Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:36:58Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-04-12T02:20:02Z","message":"ReplicaSet \"opsmx-issugen-67d876cdc4\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:35:09Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":245.0}},{"metadata":{"uid":"5e8ff619-b7ca-4905-a317-564f8bfa5a52","resourceVersion":"13901061","creationTimestamp":"2022-04-12T02:20:01Z","name":"opsmx-issugen-service","namespace":"deploy-qa","annotations":{"artifact.spinnaker.io/version":"","cloud.google.com/neg":"{\"ingress\":true}","artifact.spinnaker.io/name":"opsmx-issugen-service","artifact.spinnaker.io/location":"deploy-qa","artifact.spinnaker.io/type":"kubernetes/service","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen-service\",\"artifact.spinnaker.io/type\":\"kubernetes/service\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"service opsmx-issugen-service\"},\"labels\":{\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"opsmx-issugen-service\",\"namespace\":\"deploy-qa\"},\"spec\":{\"ports\":[{\"name\":\"canary\",\"port\":8080,\"protocol\":\"TCP\",\"targetPort\":8080},{\"name\":\"reports\",\"port\":9090,\"protocol\":\"TCP\",\"targetPort\":9090}],\"selector\":{\"app\":\"opsmx-issugen\"},\"type\":\"ClusterIP\"}}\n","moniker.spinnaker.io/cluster":"service opsmx-issugen-service","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"v1","kind":"Service","spec":{"clusterIPs":["10.8.13.122"],"ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","sessionAffinity":"None","selector":{"app":"opsmx-issugen"},"ports":[{"protocol":"TCP","port":8080.0,"name":"canary","targetPort":8080.0},{"protocol":"TCP","port":9090.0,"name":"reports","targetPort":9090.0}],"type":"ClusterIP","clusterIP":"10.8.13.122"},"status":{"loadBalancer":{}}}],"manifestNamesByNamespace":{"deploy-qa":["deployment opsmx-issugen","service opsmx-issugen-service"]},"boundArtifacts":[]}],"id":"01G4ZAWXEKNM253ZV7CANM66FC","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesDeployManifestOperation"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Beginning deployment of manifest..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment opsmx-issugen from context..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in service opsmx-issugen-service from context..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for service..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Checking if all requested artifacts were bound..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Sorting manifests by priority..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for service..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy order is: service opsmx-issugen-service, deployment opsmx-issugen"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for service..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Annotating manifest service opsmx-issugen-service with artifact, relationships & moniker..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in service opsmx-issugen-service from other deployments..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Submitting manifest service opsmx-issugen-service to kubernetes master..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Annotating manifest deployment opsmx-issugen with artifact, relationships & moniker..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment opsmx-issugen from other deployments..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Submitting manifest deployment opsmx-issugen to kubernetes master..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy manifest task completed successfully."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}},{"resultObjects":[{"createdArtifacts":[],"manifestNamesByNamespace":{},"boundArtifacts":[]}],"id":"01G4ZAYE4RF9ZCHJA25B7238YW","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesCleanupArtifactsOperation"},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"outputs.manifests":[{"metadata":{"generation":246.0,"uid":"edc79610-ff50-4e4d-9957-ddc01a21176f","resourceVersion":"47083142","creationTimestamp":"2022-04-12T02:20:01Z","name":"opsmx-issugen","namespace":"deploy-qa","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"opsmx-issugen","strategy.spinnaker.io/max-version-history":"2","artifact.spinnaker.io/location":"deploy-qa","deployment.kubernetes.io/revision":"241","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment opsmx-issugen\",\"strategy.spinnaker.io/max-version-history\":\"2\"},\"labels\":{\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"opsmx-issugen\",\"namespace\":\"deploy-qa\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"opsmx-issugen\"}},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment opsmx-issugen\"},\"labels\":{\"app\":\"opsmx-issugen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"version\":\"issue-canary-gen-1265\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"canary-issuegen\",\"ports\":[{\"containerPort\":8080,\"name\":\"http\",\"protocol\":\"TCP\"}]}]}}}}\n","moniker.spinnaker.io/cluster":"deployment opsmx-issugen","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"opsmx-issugen","artifact.spinnaker.io/location":"deploy-qa","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment opsmx-issugen","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"opsmx-issugen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp","version":"issue-canary-gen-1265"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"canary-issuegen","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8080.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"opsmx-issugen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:36:58Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:36:58Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-04-12T02:20:02Z","message":"ReplicaSet \"opsmx-issugen-67d876cdc4\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:35:09Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":245.0}},{"metadata":{"uid":"5e8ff619-b7ca-4905-a317-564f8bfa5a52","resourceVersion":"13901061","creationTimestamp":"2022-04-12T02:20:01Z","name":"opsmx-issugen-service","namespace":"deploy-qa","annotations":{"artifact.spinnaker.io/version":"","cloud.google.com/neg":"{\"ingress\":true}","artifact.spinnaker.io/name":"opsmx-issugen-service","artifact.spinnaker.io/location":"deploy-qa","artifact.spinnaker.io/type":"kubernetes/service","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen-service\",\"artifact.spinnaker.io/type\":\"kubernetes/service\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"service opsmx-issugen-service\"},\"labels\":{\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"opsmx-issugen-service\",\"namespace\":\"deploy-qa\"},\"spec\":{\"ports\":[{\"name\":\"canary\",\"port\":8080,\"protocol\":\"TCP\",\"targetPort\":8080},{\"name\":\"reports\",\"port\":9090,\"protocol\":\"TCP\",\"targetPort\":9090}],\"selector\":{\"app\":\"opsmx-issugen\"},\"type\":\"ClusterIP\"}}\n","moniker.spinnaker.io/cluster":"service opsmx-issugen-service","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"v1","kind":"Service","spec":{"clusterIPs":["10.8.13.122"],"ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","sessionAffinity":"None","selector":{"app":"opsmx-issugen"},"ports":[{"protocol":"TCP","port":8080.0,"name":"canary","targetPort":8080.0},{"protocol":"TCP","port":9090.0,"name":"reports","targetPort":9090.0}],"type":"ClusterIP","clusterIP":"10.8.13.122"},"status":{"loadBalancer":{}}}],"kato.task.notFoundRetryCount":0,"account":"qa-account","skipExpressionEvaluation":false,"kato.task.lastStatus":"SUCCEEDED"},"outputs":{"manifests":[{"metadata":{"name":"opsmx-issugen","annotations":{"strategy.spinnaker.io/max-version-history":"2"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"labels":{"app":"opsmx-issugen","version":"issue-canary-gen-1265"}},"spec":{"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","name":"canary-issuegen","ports":[{"protocol":"TCP","name":"http","containerPort":8080}]}]}},"replicas":1,"revisionHistoryLimit":2,"selector":{"matchLabels":{"app":"opsmx-issugen"}}}},{"metadata":{"name":"opsmx-issugen-service"},"apiVersion":"v1","kind":"Service","spec":{"selector":{"app":"opsmx-issugen"},"ports":[{"protocol":"TCP","port":8080,"name":"canary","targetPort":8080},{"protocol":"TCP","port":9090,"name":"reports","targetPort":9090}],"type":"ClusterIP"}}],"requiredArtifacts":[],"optionalArtifacts":[{"type":"kubernetes/job","customKind":false,"version":"","location":"default","metadata":{"account":"default"}}],"outputs.createdArtifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"opsmx-issugen","version":"","location":"deploy-qa","reference":"opsmx-issugen","metadata":{"account":"qa-account"}},{"type":"kubernetes/service","customKind":false,"name":"opsmx-issugen-service","version":"","location":"deploy-qa","reference":"opsmx-issugen-service","metadata":{"account":"qa-account"}}],"outputs.manifestNamesByNamespace":{"deploy-qa":["deployment opsmx-issugen","service opsmx-issugen-service"]},"outputs.boundArtifacts":[],"outputs.manifests":[{"metadata":{"generation":246.0,"uid":"edc79610-ff50-4e4d-9957-ddc01a21176f","resourceVersion":"47083142","creationTimestamp":"2022-04-12T02:20:01Z","name":"opsmx-issugen","namespace":"deploy-qa","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"opsmx-issugen","strategy.spinnaker.io/max-version-history":"2","artifact.spinnaker.io/location":"deploy-qa","deployment.kubernetes.io/revision":"241","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment opsmx-issugen\",\"strategy.spinnaker.io/max-version-history\":\"2\"},\"labels\":{\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"opsmx-issugen\",\"namespace\":\"deploy-qa\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"opsmx-issugen\"}},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment opsmx-issugen\"},\"labels\":{\"app\":\"opsmx-issugen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"version\":\"issue-canary-gen-1265\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"canary-issuegen\",\"ports\":[{\"containerPort\":8080,\"name\":\"http\",\"protocol\":\"TCP\"}]}]}}}}\n","moniker.spinnaker.io/cluster":"deployment opsmx-issugen","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"opsmx-issugen","artifact.spinnaker.io/location":"deploy-qa","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment opsmx-issugen","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"opsmx-issugen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp","version":"issue-canary-gen-1265"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"canary-issuegen","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8080.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"opsmx-issugen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:36:58Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:36:58Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-04-12T02:20:02Z","message":"ReplicaSet \"opsmx-issugen-67d876cdc4\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:35:09Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":245.0}},{"metadata":{"uid":"5e8ff619-b7ca-4905-a317-564f8bfa5a52","resourceVersion":"13901061","creationTimestamp":"2022-04-12T02:20:01Z","name":"opsmx-issugen-service","namespace":"deploy-qa","annotations":{"artifact.spinnaker.io/version":"","cloud.google.com/neg":"{\"ingress\":true}","artifact.spinnaker.io/name":"opsmx-issugen-service","artifact.spinnaker.io/location":"deploy-qa","artifact.spinnaker.io/type":"kubernetes/service","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-qa\",\"artifact.spinnaker.io/name\":\"opsmx-issugen-service\",\"artifact.spinnaker.io/type\":\"kubernetes/service\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"service opsmx-issugen-service\"},\"labels\":{\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"opsmx-issugen-service\",\"namespace\":\"deploy-qa\"},\"spec\":{\"ports\":[{\"name\":\"canary\",\"port\":8080,\"protocol\":\"TCP\",\"targetPort\":8080},{\"name\":\"reports\",\"port\":9090,\"protocol\":\"TCP\",\"targetPort\":9090}],\"selector\":{\"app\":\"opsmx-issugen\"},\"type\":\"ClusterIP\"}}\n","moniker.spinnaker.io/cluster":"service opsmx-issugen-service","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"v1","kind":"Service","spec":{"clusterIPs":["10.8.13.122"],"ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","sessionAffinity":"None","selector":{"app":"opsmx-issugen"},"ports":[{"protocol":"TCP","port":8080.0,"name":"canary","targetPort":8080.0},{"protocol":"TCP","port":9090.0,"name":"reports","targetPort":9090.0}],"type":"ClusterIP","clusterIP":"10.8.13.122"},"status":{"loadBalancer":{}}}],"artifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"opsmx-issugen","version":"","location":"deploy-qa","reference":"opsmx-issugen","metadata":{"account":"qa-account"}},{"type":"kubernetes/service","customKind":false,"name":"opsmx-issugen-service","version":"","location":"deploy-qa","reference":"opsmx-issugen-service","metadata":{"account":"qa-account"}}]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveDeploySourceManifestTask","name":"resolveDeploySourceManifest","startTime":1654614029466,"endTime":1654614029584,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.DeployManifestTask","name":"deployManifest","startTime":1654614029641,"endTime":1654614029868,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorDeploy","startTime":1654614029925,"endTime":1654614035744,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654614036030,"endTime":1654614036286,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"5","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.WaitForManifestStableTask","name":"waitForManifestToStabilize","startTime":1654614036417,"endTime":1654614079437,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"6","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.artifacts.CleanupArtifactsTask","name":"cleanupArtifacts","startTime":1654614079492,"endTime":1654614079733,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"7","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorCleanup","startTime":1654614079791,"endTime":1654614084996,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"8","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654614085057,"endTime":1654614085208,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"9","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.artifacts.BindProducedArtifactsTask","name":"bindProducedArtifacts","startTime":1654614085265,"endTime":1654614085440,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["2"]},{"id":"01G4ZAQY8F249241PB3FY0SAWE","refId":"4","type":"addJiraIss","name":"Open Jira for QA Deployment","startTime":1654614085566,"endTime":1654614086851,"status":"SUCCEEDED","context":{"webhook":{"headers":{"date":"Tue, 07 Jun 2022 15:01:26 GMT","server":"globaledge-envoy","x-envoy-upstream-service-time":"941","vary":"Accept-Encoding","expect-ct":"report-uri=\"https://web-security-reports.services.atlassian.com/expect-ct-report/atlassian-proxy\", max-age=86400","strict-transport-security":"max-age=63072000; preload","atl-traceid":"d7457acd6d663a95","set-cookie":"atlassian.xsrf.token=BQTB-ISVY-JHS8-ZZL5_6049c4da7649b6f4fa069995f771e4240ebdebb7_lin; path=/; SameSite=None; Secure","nel":"{\"report_to\": \"endpoint-1\", \"max_age\": 600, \"include_subdomains\": true, \"failure_fraction\": 0.001}","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block","x-arequestid":"c1a87320-4894-42e3-9830-f158c3785970","content-type":"application/json;charset=UTF-8","x-aaccountid":"60cc4b73b1f93b00694b3835","report-to":"{\"group\": \"endpoint-1\", \"max_age\": 600, \"endpoints\": [{\"url\": \"https://dj9s4kmieytgz.cloudfront.net\"}], \"include_subdomains\": true}","timing-allow-origin":"*","cache-control":"no-cache, no-store, no-transform"},"statusCodeValue":201,"body":{"self":"https://devopsmx.atlassian.net/rest/api/2/issue/28552","id":"28552","key":"ENG-519"},"statusCode":"CREATED"},"method":"POST","payload":"{\n  \"fields\": {\n     \"project\":\n      {\n        \"key\": \"ENG\"\n      },\n      \"summary\": \"Track QA Deployment\",\n      \"description\": \"Track Deployment\",\n      \"issuetype\": {\n        \"name\": \"Task\"\n      }\n  }\n}","statusUrlResolution":"getMethod","alias":"preconfiguredWebhook","url":"https://devopsmx.atlassian.net/rest/api/2/issue/","customHeaders":{"Authorization":["Basic YWNjb3VudC1hZG1pbkBvcHNteC5pbzp1anhDcEhWWEdUVXN3emVRdFZwRkMzODk"],"Content-Type":["application/json"]},"parameterValues":{"summary":"Track QA Deployment","issuetype":"Task","description":"Track Deployment","projectid":"ENG"}},"outputs":{},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.webhook.tasks.CreateWebhookTask","name":"createWebhook","startTime":1654614085632,"endTime":1654614086781,"status":"SUCCEEDED","stageStart":true,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["3"]},{"id":"01G4ZAQY8F28AT7C6N9R26YB8B","refId":"5","type":"waitJiraState","name":"JIRA: Wait for status Update","startTime":1654614086894,"endTime":1654614615665,"status":"SUCCEEDED","context":{"progressJsonPath":"fields.status.name","comments":"<a href=\"https://devopsmx.atlassian.net/jira/software/projects/ENG/boards/44?selectedIssue=ENG-519\">Click_Here_JIRA</a>","terminalStatuses":"PR Raised","webhook":{"headers":{"date":"Tue, 07 Jun 2022 15:01:27 GMT","server":"globaledge-envoy","x-envoy-upstream-service-time":"372","vary":"Accept-Encoding","expect-ct":"report-uri=\"https://web-security-reports.services.atlassian.com/expect-ct-report/atlassian-proxy\", max-age=86400","strict-transport-security":"max-age=63072000; preload","atl-traceid":"ef11335d63bd4135","set-cookie":"atlassian.xsrf.token=BQTB-ISVY-JHS8-ZZL5_0a3376b87ef9febb38ddf140d08641c5afcd6866_lin; path=/; SameSite=None; Secure","nel":"{\"report_to\": \"endpoint-1\", \"max_age\": 600, \"include_subdomains\": true, \"failure_fraction\": 0.001}","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block","x-arequestid":"c5d9ce01-7f88-437a-a174-595040eebba2","content-type":"application/json;charset=UTF-8","x-aaccountid":"60cc4b73b1f93b00694b3835","report-to":"{\"group\": \"endpoint-1\", \"max_age\": 600, \"endpoints\": [{\"url\": \"https://dj9s4kmieytgz.cloudfront.net\"}], \"include_subdomains\": true}","timing-allow-origin":"*","cache-control":"no-cache, no-store, no-transform"},"statusEndpoint":"https://devopsmx.atlassian.net/rest/api/latest/issue/ENG-519","statusCodeValue":200,"monitor":{"headers":{"date":"Tue, 07 Jun 2022 15:10:15 GMT","server":"globaledge-envoy","x-envoy-upstream-service-time":"540","vary":"Accept-Encoding","expect-ct":"report-uri=\"https://web-security-reports.services.atlassian.com/expect-ct-report/atlassian-proxy\", max-age=86400","strict-transport-security":"max-age=63072000; preload","atl-traceid":"f0b7976112403689","set-cookie":"atlassian.xsrf.token=BQTB-ISVY-JHS8-ZZL5_84d578e70f2a95e0c82b9cbeadc109e2c9afe97e_lin; path=/; SameSite=None; Secure","nel":"{\"report_to\": \"endpoint-1\", \"max_age\": 600, \"include_subdomains\": true, \"failure_fraction\": 0.001}","x-content-type-options":"nosniff","x-xss-protection":"1; mode=block","x-arequestid":"d78375c6-0f30-4fa8-8928-606db85c05ed","content-type":"application/json;charset=UTF-8","x-aaccountid":"60cc4b73b1f93b00694b3835","report-to":"{\"group\": \"endpoint-1\", \"max_age\": 600, \"endpoints\": [{\"url\": \"https://dj9s4kmieytgz.cloudfront.net\"}], \"include_subdomains\": true}","timing-allow-origin":"*","cache-control":"no-cache, no-store, no-transform"},"statusCodeValue":200,"body":{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations,customfield_10311.requestTypePractice,customfield_10380.properties,customfield_10381.properties,customfield_10382.properties","self":"https://devopsmx.atlassian.net/rest/api/latest/issue/28552","id":"28552","fields":{"statuscategorychangedate":"2022-06-07T20:40:02.669+0530","issuetype":{"avatarId":10318,"hierarchyLevel":0,"name":"Task","self":"https://devopsmx.atlassian.net/rest/api/2/issuetype/10110","description":"Tasks track small, distinct pieces of work.","entityId":"28cb5a6c-ec56-4d81-a535-7bcc6367b66e","id":"10110","iconUrl":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10318?size=medium","subtask":false},"components":[],"project":{"simplified":true,"avatarUrls":{"48x48":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621","24x24":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621?size=small","16x16":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621?size=xsmall","32x32":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621?size=medium"},"name":"Engineering","self":"https://devopsmx.atlassian.net/rest/api/2/project/10202","id":"10202","projectTypeKey":"software","key":"ENG"},"description":"Track Deployment","customfield_10373":[],"fixVersions":[],"resolution":{"name":"Done","self":"https://devopsmx.atlassian.net/rest/api/2/resolution/10000","description":"Work has been completed on this issue.","id":"10000"},"timetracking":{},"customfield_10105":"0|i035hv:","attachment":[],"resolutiondate":"2022-06-07T20:40:02.663+0530","workratio":-1,"summary":"Track QA Deployment","issuerestriction":{"issuerestrictions":{},"shouldDisplay":true},"watches":{"self":"https://devopsmx.atlassian.net/rest/api/2/issue/ENG-519/watchers","isWatching":true,"watchCount":1},"creator":{"accountId":"60cc4b73b1f93b00694b3835","emailAddress":"account-admin@opsmx.io","avatarUrls":{"48x48":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","24x24":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","16x16":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","32x32":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png"},"displayName":"OpsMx","accountType":"atlassian","self":"https://devopsmx.atlassian.net/rest/api/2/user?accountId=60cc4b73b1f93b00694b3835","active":true,"timeZone":"Asia/Calcutta"},"subtasks":[],"created":"2022-06-07T20:31:26.201+0530","reporter":{"accountId":"60cc4b73b1f93b00694b3835","emailAddress":"account-admin@opsmx.io","avatarUrls":{"48x48":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","24x24":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","16x16":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","32x32":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png"},"displayName":"OpsMx","accountType":"atlassian","self":"https://devopsmx.atlassian.net/rest/api/2/user?accountId=60cc4b73b1f93b00694b3835","active":true,"timeZone":"Asia/Calcutta"},"aggregateprogress":{"total":0,"progress":0},"priority":{"name":"Medium","self":"https://devopsmx.atlassian.net/rest/api/2/priority/3","iconUrl":"https://devopsmx.atlassian.net/images/icons/priorities/medium.svg","id":"3"},"customfield_10344":[],"customfield_10300":"{}","labels":[],"customfield_10315":{"hasEpicLinkFieldDependency":false,"showField":false,"nonEditableReason":{"reason":"PLUGIN_LICENSE_ERROR","message":"The Parent Link is only available to Jira Premium users."}},"customfield_10317":"10211_*:*_1_*:*_516481_*|*_10213_*:*_1_*:*_0","versions":[],"progress":{"total":0,"progress":0},"issuelinks":[],"votes":{"hasVoted":false,"self":"https://devopsmx.atlassian.net/rest/api/2/issue/ENG-519/votes","votes":0},"comment":{"total":0,"comments":[],"maxResults":0,"self":"https://devopsmx.atlassian.net/rest/api/2/issue/28552/comment","startAt":0},"assignee":{"accountId":"5d74814e5a4d810d2c4dc233","avatarUrls":{"48x48":"https://secure.gravatar.com/avatar/955cdc6b9278911532bf93bdd08f77e0?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FAG-2.png","24x24":"https://secure.gravatar.com/avatar/955cdc6b9278911532bf93bdd08f77e0?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FAG-2.png","16x16":"https://secure.gravatar.com/avatar/955cdc6b9278911532bf93bdd08f77e0?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FAG-2.png","32x32":"https://secure.gravatar.com/avatar/955cdc6b9278911532bf93bdd08f77e0?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FAG-2.png"},"displayName":"Ayan Ganguly","accountType":"atlassian","self":"https://devopsmx.atlassian.net/rest/api/2/user?accountId=5d74814e5a4d810d2c4dc233","active":true,"timeZone":"Asia/Calcutta"},"worklog":{"total":0,"maxResults":20,"startAt":0,"worklogs":[]},"updated":"2022-06-07T20:40:04.940+0530","status":{"name":"Done","self":"https://devopsmx.atlassian.net/rest/api/2/status/10213","description":"","iconUrl":"https://devopsmx.atlassian.net/","id":"10213","statusCategory":{"colorName":"green","name":"Done","self":"https://devopsmx.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done"}}},"key":"ENG-519"},"statusCode":"OK","progressMessage":"Done"},"body":{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations,customfield_10311.requestTypePractice,customfield_10380.properties,customfield_10381.properties,customfield_10382.properties","self":"https://devopsmx.atlassian.net/rest/api/latest/issue/28552","id":"28552","fields":{"statuscategorychangedate":"2022-06-07T20:31:26.594+0530","issuetype":{"avatarId":10318,"hierarchyLevel":0,"name":"Task","self":"https://devopsmx.atlassian.net/rest/api/2/issuetype/10110","description":"Tasks track small, distinct pieces of work.","entityId":"28cb5a6c-ec56-4d81-a535-7bcc6367b66e","id":"10110","iconUrl":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10318?size=medium","subtask":false},"components":[],"project":{"simplified":true,"avatarUrls":{"48x48":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621","24x24":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621?size=small","16x16":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621?size=xsmall","32x32":"https://devopsmx.atlassian.net/rest/api/2/universal_avatar/view/type/project/avatar/10621?size=medium"},"name":"Engineering","self":"https://devopsmx.atlassian.net/rest/api/2/project/10202","id":"10202","projectTypeKey":"software","key":"ENG"},"description":"Track Deployment","customfield_10373":[],"fixVersions":[],"timetracking":{},"customfield_10105":"0|i035hv:","attachment":[],"workratio":-1,"summary":"Track QA Deployment","issuerestriction":{"issuerestrictions":{},"shouldDisplay":true},"watches":{"self":"https://devopsmx.atlassian.net/rest/api/2/issue/ENG-519/watchers","isWatching":true,"watchCount":1},"creator":{"accountId":"60cc4b73b1f93b00694b3835","emailAddress":"account-admin@opsmx.io","avatarUrls":{"48x48":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","24x24":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","16x16":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","32x32":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png"},"displayName":"OpsMx","accountType":"atlassian","self":"https://devopsmx.atlassian.net/rest/api/2/user?accountId=60cc4b73b1f93b00694b3835","active":true,"timeZone":"Asia/Calcutta"},"subtasks":[],"created":"2022-06-07T20:31:26.201+0530","reporter":{"accountId":"60cc4b73b1f93b00694b3835","emailAddress":"account-admin@opsmx.io","avatarUrls":{"48x48":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","24x24":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","16x16":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png","32x32":"https://secure.gravatar.com/avatar/4e41f2836ee66aa8cf9eff8ea2e2e8e1?d=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2Finitials%2FO-0.png"},"displayName":"OpsMx","accountType":"atlassian","self":"https://devopsmx.atlassian.net/rest/api/2/user?accountId=60cc4b73b1f93b00694b3835","active":true,"timeZone":"Asia/Calcutta"},"aggregateprogress":{"total":0,"progress":0},"priority":{"name":"Medium","self":"https://devopsmx.atlassian.net/rest/api/2/priority/3","iconUrl":"https://devopsmx.atlassian.net/images/icons/priorities/medium.svg","id":"3"},"customfield_10344":[],"customfield_10300":"{}","labels":[],"customfield_10315":{"hasEpicLinkFieldDependency":false,"showField":false,"nonEditableReason":{"reason":"PLUGIN_LICENSE_ERROR","message":"The Parent Link is only available to Jira Premium users."}},"versions":[],"progress":{"total":0,"progress":0},"issuelinks":[],"votes":{"hasVoted":false,"self":"https://devopsmx.atlassian.net/rest/api/2/issue/ENG-519/votes","votes":0},"comment":{"total":0,"comments":[],"maxResults":0,"self":"https://devopsmx.atlassian.net/rest/api/2/issue/28552/comment","startAt":0},"worklog":{"total":0,"maxResults":20,"startAt":0,"worklogs":[]},"updated":"2022-06-07T20:31:26.201+0530","status":{"name":"To Do","self":"https://devopsmx.atlassian.net/rest/api/2/status/10211","description":"","iconUrl":"https://devopsmx.atlassian.net/","id":"10211","statusCategory":{"colorName":"blue-gray","name":"To Do","self":"https://devopsmx.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new"}}},"key":"ENG-519"},"statusCode":"OK"},"method":"GET","statusEndpoint":"https://devopsmx.atlassian.net/rest/api/latest/issue/ENG-519","statusUrlResolution":"getMethod","canceledStatuses":"In Verification","waitForCompletion":true,"url":"https://devopsmx.atlassian.net/rest/api/latest/issue/ENG-519","payload":"","successStatuses":"Done, In Progress","alias":"preconfiguredWebhook","customHeaders":{"Authorization":["Basic YWNjb3VudC1hZG1pbkBvcHNteC5pbzp1anhDcEhWWEdUVXN3emVRdFZwRkMzODk"],"Content-Type":["application/json"]},"statusJsonPath":"fields.status.name","parameterValues":{"cancel":"In Verification","issue":"ENG-519","success":"Done, In Progress","terminate":"PR Raised","retry":"To Do,"}},"outputs":{},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.webhook.tasks.CreateWebhookTask","name":"createWebhook","startTime":1654614087008,"endTime":1654614087524,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.webhook.tasks.MonitorWebhookTask","name":"monitorWebhook","startTime":1654614087606,"endTime":1654614615604,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["4"]},{"id":"01G4ZAQY8F36B535SNPXK7KBKT","refId":"6","type":"findArtifactsFromResource","name":"GetBaseDeploy","startTime":1654614615732,"endTime":1654614616478,"status":"SUCCEEDED","context":{"app":"demorefapp","expectedArtifacts":[{"usePriorArtifact":false,"displayName":"base-container","useDefaultArtifact":false,"defaultArtifact":{"customKind":true,"id":"3d5163b0-76cb-460b-b600-b09ca081a55f"},"id":"c3ae131e-9428-4149-ae40-20b86545fda9","matchArtifact":{"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","id":"3bbd4dfc-d2be-41dc-8baa-01fba5eb9768","type":"docker/image"}}],"mode":"static","manifest":{"metadata":{"generation":14.0,"uid":"54b212f6-5cfa-492f-ba83-2a8159e71c18","resourceVersion":"47032252","creationTimestamp":"2022-06-04T06:42:02Z","name":"issuegen-prod","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"14","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-prod\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":3,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-prod\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-prod","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-prod","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-prod","resources":{},"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":3.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":3.0,"readyReplicas":3.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-05T19:42:01Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-05T19:42:01Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:42:02Z","message":"ReplicaSet \"issuegen-prod-657944b8c6\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T13:28:21Z","status":"True"}],"updatedReplicas":3.0,"availableReplicas":3.0,"observedGeneration":14.0}},"cloudProvider":"kubernetes","manifestName":"deployment issuegen-prod","resolvedExpectedArtifacts":[{"usePriorArtifact":false,"useDefaultArtifact":false,"defaultArtifact":{"customKind":true,"metadata":{"id":"3d5163b0-76cb-460b-b600-b09ca081a55f"}},"id":"c3ae131e-9428-4149-ae40-20b86545fda9","boundArtifact":{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"},"matchArtifact":{"customKind":false,"metadata":{"id":"3bbd4dfc-d2be-41dc-8baa-01fba5eb9768"},"name":"quay.io/opsmxpublic/canary-issuegen","artifactAccount":"docker-registry","type":"docker/image"}}],"location":"deploy-prod","account":"prod-account","artifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}]},"outputs":{"manifest":{"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{"artifact.spinnaker.io/location":"deploy-prod","artifact.spinnaker.io/name":"issuegen-prod","artifact.spinnaker.io/type":"kubernetes/deployment","artifact.spinnaker.io/version":"","deployment.kubernetes.io/revision":"14","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-prod\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":3,\"revisionHistoryLimit\":2,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-prod\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-prod\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-prod\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/application":"demorefapp","moniker.spinnaker.io/cluster":"deployment issuegen-prod"},"creationTimestamp":"2022-06-04T06:42:02Z","generation":14.0,"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"},"name":"issuegen-prod","namespace":"deploy-prod","resourceVersion":"47032252","uid":"54b212f6-5cfa-492f-ba83-2a8159e71c18"},"spec":{"progressDeadlineSeconds":600.0,"replicas":3.0,"revisionHistoryLimit":2.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"},"type":"RollingUpdate"},"template":{"metadata":{"annotations":{"artifact.spinnaker.io/location":"deploy-prod","artifact.spinnaker.io/name":"issuegen-prod","artifact.spinnaker.io/type":"kubernetes/deployment","artifact.spinnaker.io/version":"","moniker.spinnaker.io/application":"demorefapp","moniker.spinnaker.io/cluster":"deployment issuegen-prod","prometheus.io/scrape":"true","prometheus_io_path":"/mgmt/prometheus","prometheus_io_port":"8088"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","name":"issuegen-prod","ports":[{"containerPort":8088.0,"name":"http","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File"}],"dnsPolicy":"ClusterFirst","restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"terminationGracePeriodSeconds":30.0}}},"status":{"availableReplicas":3.0,"conditions":[{"lastTransitionTime":"2022-06-05T19:42:01Z","lastUpdateTime":"2022-06-05T19:42:01Z","message":"Deployment has minimum availability.","reason":"MinimumReplicasAvailable","status":"True","type":"Available"},{"lastTransitionTime":"2022-06-04T06:42:02Z","lastUpdateTime":"2022-06-07T13:28:21Z","message":"ReplicaSet \"issuegen-prod-657944b8c6\" has successfully progressed.","reason":"NewReplicaSetAvailable","status":"True","type":"Progressing"}],"observedGeneration":14.0,"readyReplicas":3.0,"replicas":3.0,"updatedReplicas":3.0}},"artifacts":[{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{}}],"resolvedExpectedArtifacts":[{"matchArtifact":{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","metadata":{"id":"3bbd4dfc-d2be-41dc-8baa-01fba5eb9768"},"artifactAccount":"docker-registry"},"usePriorArtifact":false,"useDefaultArtifact":false,"defaultArtifact":{"customKind":true,"metadata":{"id":"3d5163b0-76cb-460b-b600-b09ca081a55f"}},"id":"c3ae131e-9428-4149-ae40-20b86545fda9","boundArtifact":{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{}}}]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveTargetManifestTask","name":"resolveTargetManifest","startTime":1654614615854,"endTime":1654614615953,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.artifacts.FindArtifactsFromResourceTask","name":"findArtifactsFromResource","startTime":1654614616007,"endTime":1654614616259,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.artifacts.BindProducedArtifactsTask","name":"bindProducedArtifacts","startTime":1654614616306,"endTime":1654614616421,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["5"]},{"id":"01G4ZAQY8FY75VPX5S4CP4H5AW","refId":"7","type":"evaluateVariables","name":"Get Base Image","startTime":1654614616541,"endTime":1654614616835,"status":"SUCCEEDED","context":{"failOnFailedExpressions":true,"variables":[{"key":"cimage","value":"issue-canary-gen-1265","sourceValue":"{#stage(\"Build\")[\"context\"][\"Buildnumber\"]}"},{"key":"bimage","value":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","sourceValue":"{#stage(\"GetBaseDeploy\")[\"context\"][\"manifest\"][\"spec\"][\"template\"][\"spec\"][\"containers\"][0][\"image\"]}"},{"key":"prodimage","value":"issue-canary-gen-1265","sourceValue":"{#stage(\"Build\")[\"context\"][\"Buildnumber\"]}"}]},"outputs":{"cimage":"issue-canary-gen-1265","bimage":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","prodimage":"issue-canary-gen-1265"},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.EvaluateVariablesTask","name":"evaluateVariables","startTime":1654614616651,"endTime":1654614616777,"status":"SUCCEEDED","stageStart":true,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["6"]},{"id":"01G4ZAQY8FEPTYEVM7C8ECW7E0","refId":"8","type":"deployManifest","name":"Canary Deploy","startTime":1654614615733,"endTime":1654614824749,"status":"SUCCEEDED","context":{"deploy.account.name":"prod-account","outputs.createdArtifacts":[{"customKind":false,"reference":"issuegen-canary","metadata":{"account":"prod-account"},"name":"issuegen-canary","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"namespaceOverride":"deploy-prod","source":"text","stableManifests":[{"manifestName":"deployment issuegen-canary","location":"deploy-prod"}],"cloudProvider":"kubernetes","kato.result.expected":false,"trafficManagement":{"options":{"enableTraffic":false,"services":[]},"enabled":false},"deploy.server.groups":{},"kato.last.task.id":{"id":"01G4ZBN3XTSS4AXKRE92ZG1HAG"},"requiredArtifacts":[],"artifacts":[{"customKind":false,"reference":"issuegen-canary","metadata":{"account":"prod-account"},"name":"issuegen-canary","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"expectedArtifacts":[],"kato.task.terminalRetryCount":0,"moniker":{"app":"demorefapp"},"kato.task.firstNotFoundRetry":-1,"outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-canary"]},"optionalArtifacts":[{"customKind":false,"reference":"opsmx-issugen","metadata":{"account":"qa-account"},"name":"opsmx-issugen","location":"deploy-qa","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen-service","metadata":{"account":"qa-account"},"name":"opsmx-issugen-service","location":"deploy-qa","type":"kubernetes/service","version":""},{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""}],"outputs.boundArtifacts":[],"manifests":[{"metadata":{"name":"issuegen-canary","namespace":"deploy-prod","annotations":{"strategy.spinnaker.io/versioned":"false","deployment.kubernetes.io/revision":"1"},"labels":{"app":"issuegen"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"prometheus_io_path":"/mgmt/prometheus","prometheus.io/scrape":"true","prometheus_io_port":"8088"},"labels":{"app":"issuegen","component":"canary"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-canary","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1,"revisionHistoryLimit":0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}}}}],"messages":[],"failedManifests":[],"kato.tasks":[{"resultObjects":[{"createdArtifacts":[{"customKind":false,"reference":"issuegen-canary","metadata":{"account":"prod-account"},"name":"issuegen-canary","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"manifests":[{"metadata":{"generation":38.0,"uid":"dfdb9e50-0521-4426-9061-124a45418e7c","resourceVersion":"47088553","creationTimestamp":"2022-06-04T06:29:55Z","name":"issuegen-canary","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"1","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-canary\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\",\"component\":\"canary\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"component\":\"canary\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"canary\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-canary\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","component":"canary","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-canary","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:50Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:29:55Z","message":"ReplicaSet \"issuegen-canary-685dd89b95\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":37.0}}],"manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-canary"]},"boundArtifacts":[]}],"id":"01G4ZBET4AMFT8QNFZXAH39WKD","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesDeployManifestOperation"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Beginning deployment of manifest..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment issuegen-canary from context..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Checking if all requested artifacts were bound..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Sorting manifests by priority..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy order is: deployment issuegen-canary"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Annotating manifest deployment issuegen-canary with artifact, relationships & moniker..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment issuegen-canary from other deployments..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Submitting manifest deployment issuegen-canary to kubernetes master..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy manifest task completed successfully."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}},{"resultObjects":[{"createdArtifacts":[],"manifestNamesByNamespace":{},"boundArtifacts":[]}],"id":"01G4ZBN3XTSS4AXKRE92ZG1HAG","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesCleanupArtifactsOperation"},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"outputs.manifests":[{"metadata":{"generation":38.0,"uid":"dfdb9e50-0521-4426-9061-124a45418e7c","resourceVersion":"47088553","creationTimestamp":"2022-06-04T06:29:55Z","name":"issuegen-canary","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"1","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-canary\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\",\"component\":\"canary\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"component\":\"canary\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"canary\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-canary\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","component":"canary","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-canary","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:50Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:29:55Z","message":"ReplicaSet \"issuegen-canary-685dd89b95\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":37.0}}],"kato.task.notFoundRetryCount":0,"account":"prod-account","skipExpressionEvaluation":false,"kato.task.lastStatus":"SUCCEEDED"},"outputs":{"manifests":[{"metadata":{"name":"issuegen-canary","namespace":"deploy-prod","annotations":{"strategy.spinnaker.io/versioned":"false","deployment.kubernetes.io/revision":"1"},"labels":{"app":"issuegen"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"prometheus_io_path":"/mgmt/prometheus","prometheus.io/scrape":"true","prometheus_io_port":"8088"},"labels":{"app":"issuegen","component":"canary"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-canary","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1,"revisionHistoryLimit":0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}}}}],"requiredArtifacts":[],"optionalArtifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"opsmx-issugen","version":"","location":"deploy-qa","reference":"opsmx-issugen","metadata":{"account":"qa-account"}},{"type":"kubernetes/service","customKind":false,"name":"opsmx-issugen-service","version":"","location":"deploy-qa","reference":"opsmx-issugen-service","metadata":{"account":"qa-account"}},{"type":"kubernetes/job","customKind":false,"version":"","location":"default","metadata":{"account":"default"}}],"outputs.createdArtifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-canary","version":"","location":"deploy-prod","reference":"issuegen-canary","metadata":{"account":"prod-account"}}],"outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-canary"]},"outputs.boundArtifacts":[],"outputs.manifests":[{"metadata":{"generation":38.0,"uid":"dfdb9e50-0521-4426-9061-124a45418e7c","resourceVersion":"47088553","creationTimestamp":"2022-06-04T06:29:55Z","name":"issuegen-canary","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"1","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-canary\",\"namespace\":\"deploy-prod\"},\"spec\":{\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\",\"component\":\"canary\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-canary\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-canary\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\",\"component\":\"canary\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"canary\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-canary\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-canary","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-canary","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","component":"canary","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1265","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-canary","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"canary"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen","component":"canary"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:50Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:29:55Z","message":"ReplicaSet \"issuegen-canary-685dd89b95\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T14:02:50Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":37.0}}],"artifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-canary","version":"","location":"deploy-prod","reference":"issuegen-canary","metadata":{"account":"prod-account"}}]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveDeploySourceManifestTask","name":"resolveDeploySourceManifest","startTime":1654614615854,"endTime":1654614616005,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.DeployManifestTask","name":"deployManifest","startTime":1654614616061,"endTime":1654614616305,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorDeploy","startTime":1654614616363,"endTime":1654614622158,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654614622524,"endTime":1654614623123,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"5","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.WaitForManifestStableTask","name":"waitForManifestToStabilize","startTime":1654614684292,"endTime":1654614822556,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"6","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.artifacts.CleanupArtifactsTask","name":"cleanupArtifacts","startTime":1654614822618,"endTime":1654614822952,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"7","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorCleanup","startTime":1654614823019,"endTime":1654614824328,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"8","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654614824388,"endTime":1654614824514,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"9","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.artifacts.BindProducedArtifactsTask","name":"bindProducedArtifacts","startTime":1654614824574,"endTime":1654614824689,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["5"]},{"id":"01G4ZAQY8FJ9PWNPYDBR6HEXS3","refId":"9","type":"deployManifest","name":"Baseline-Deploy","startTime":1654614616894,"endTime":1654614824749,"status":"SUCCEEDED","context":{"deploy.account.name":"prod-account","outputs.createdArtifacts":[{"customKind":false,"reference":"issuegen-baseline","metadata":{"account":"prod-account"},"name":"issuegen-baseline","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"namespaceOverride":"deploy-prod","source":"text","stableManifests":[{"manifestName":"deployment issuegen-baseline","location":"deploy-prod"}],"cloudProvider":"kubernetes","kato.result.expected":false,"trafficManagement":{"options":{"enableTraffic":false,"services":[]},"enabled":false},"deploy.server.groups":{},"kato.last.task.id":{"id":"01G4ZBN3XWMY3XHJB6CDXMBSDM"},"requiredArtifacts":[],"artifacts":[{"customKind":false,"reference":"issuegen-baseline","metadata":{"account":"prod-account"},"name":"issuegen-baseline","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"kato.task.terminalRetryCount":0,"moniker":{"app":"demorefapp"},"kato.task.firstNotFoundRetry":-1,"outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-baseline"]},"optionalArtifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"},{"customKind":false,"reference":"opsmx-issugen","metadata":{"account":"qa-account"},"name":"opsmx-issugen","location":"deploy-qa","type":"kubernetes/deployment","version":""},{"customKind":false,"reference":"opsmx-issugen-service","metadata":{"account":"qa-account"},"name":"opsmx-issugen-service","location":"deploy-qa","type":"kubernetes/service","version":""},{"customKind":false,"metadata":{"account":"default"},"location":"default","type":"kubernetes/job","version":""}],"outputs.boundArtifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}],"manifests":[{"metadata":{"name":"issuegen-baseline","annotations":{"strategy.spinnaker.io/versioned":"false","deployment.kubernetes.io/revision":"1"},"labels":{"app":"issuegen"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"prometheus_io_path":"/mgmt/prometheus","prometheus.io/scrape":"true","prometheus_io_port":"8088"},"labels":{"app":"issuegen"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-baseline","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"baseline"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1,"revisionHistoryLimit":0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600}}],"messages":[],"failedManifests":[],"kato.tasks":[{"resultObjects":[{"createdArtifacts":[{"customKind":false,"reference":"issuegen-baseline","metadata":{"account":"prod-account"},"name":"issuegen-baseline","location":"deploy-prod","type":"kubernetes/deployment","version":""}],"manifests":[{"metadata":{"generation":37.0,"uid":"a9d0152d-da0d-49a4-a76e-5541010638ff","resourceVersion":"47088568","creationTimestamp":"2022-06-04T06:35:20Z","name":"issuegen-baseline","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-baseline","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"1","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-baseline\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-baseline\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-baseline\",\"namespace\":\"deploy-prod\"},\"spec\":{\"progressDeadlineSeconds\":600,\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-baseline\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-baseline\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"baseline\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-baseline\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-baseline","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-baseline","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-baseline","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-baseline","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"baseline"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:51Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:51Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:35:20Z","message":"ReplicaSet \"issuegen-baseline-97cb96469\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T14:02:51Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":36.0}}],"manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-baseline"]},"boundArtifacts":[{"customKind":false,"reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{},"name":"quay.io/opsmxpublic/canary-issuegen","type":"docker/image"}]}],"id":"01G4ZBEV6D06V0P637G7EVFXK9","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesDeployManifestOperation"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Beginning deployment of manifest..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment issuegen-baseline from context..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Checking if all requested artifacts were bound..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Sorting manifests by priority..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy order is: deployment issuegen-baseline"},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Finding deployer for deployment..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Annotating manifest deployment issuegen-baseline with artifact, relationships & moniker..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Swapping out artifacts in deployment issuegen-baseline from other deployments..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Submitting manifest deployment issuegen-baseline to kubernetes master..."},{"phase":"DEPLOY_KUBERNETES_MANIFEST","status":"Deploy manifest task completed successfully."},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}},{"resultObjects":[{"createdArtifacts":[],"manifestNamesByNamespace":{},"boundArtifacts":[]}],"id":"01G4ZBN3XWMY3XHJB6CDXMBSDM","history":[{"phase":"ORCHESTRATION","status":"Initializing Orchestration Task"},{"phase":"ORCHESTRATION","status":"Processing op: KubernetesCleanupArtifactsOperation"},{"phase":"ORCHESTRATION","status":"Orchestration completed."},{"phase":"ORCHESTRATION","status":"Orchestration completed."}],"status":{"retryable":false,"completed":true,"failed":false}}],"outputs.manifests":[{"metadata":{"generation":37.0,"uid":"a9d0152d-da0d-49a4-a76e-5541010638ff","resourceVersion":"47088568","creationTimestamp":"2022-06-04T06:35:20Z","name":"issuegen-baseline","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-baseline","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"1","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-baseline\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-baseline\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-baseline\",\"namespace\":\"deploy-prod\"},\"spec\":{\"progressDeadlineSeconds\":600,\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-baseline\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-baseline\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"baseline\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-baseline\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-baseline","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-baseline","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-baseline","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-baseline","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"baseline"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:51Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:51Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:35:20Z","message":"ReplicaSet \"issuegen-baseline-97cb96469\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T14:02:51Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":36.0}}],"kato.task.notFoundRetryCount":0,"account":"prod-account","skipExpressionEvaluation":false,"kato.task.lastStatus":"SUCCEEDED"},"outputs":{"manifests":[{"metadata":{"name":"issuegen-baseline","annotations":{"strategy.spinnaker.io/versioned":"false","deployment.kubernetes.io/revision":"1"},"labels":{"app":"issuegen"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"prometheus_io_path":"/mgmt/prometheus","prometheus.io/scrape":"true","prometheus_io_port":"8088"},"labels":{"app":"issuegen"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-baseline","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"baseline"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1,"revisionHistoryLimit":0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600}}],"requiredArtifacts":[],"optionalArtifacts":[{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{}},{"type":"kubernetes/deployment","customKind":false,"name":"opsmx-issugen","version":"","location":"deploy-qa","reference":"opsmx-issugen","metadata":{"account":"qa-account"}},{"type":"kubernetes/service","customKind":false,"name":"opsmx-issugen-service","version":"","location":"deploy-qa","reference":"opsmx-issugen-service","metadata":{"account":"qa-account"}},{"type":"kubernetes/job","customKind":false,"version":"","location":"default","metadata":{"account":"default"}}],"outputs.createdArtifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-baseline","version":"","location":"deploy-prod","reference":"issuegen-baseline","metadata":{"account":"prod-account"}}],"outputs.manifestNamesByNamespace":{"deploy-prod":["deployment issuegen-baseline"]},"outputs.boundArtifacts":[{"type":"docker/image","customKind":false,"name":"quay.io/opsmxpublic/canary-issuegen","reference":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","metadata":{}}],"outputs.manifests":[{"metadata":{"generation":37.0,"uid":"a9d0152d-da0d-49a4-a76e-5541010638ff","resourceVersion":"47088568","creationTimestamp":"2022-06-04T06:35:20Z","name":"issuegen-baseline","namespace":"deploy-prod","annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-baseline","strategy.spinnaker.io/versioned":"false","artifact.spinnaker.io/location":"deploy-prod","deployment.kubernetes.io/revision":"1","artifact.spinnaker.io/type":"kubernetes/deployment","kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-baseline\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"deployment.kubernetes.io/revision\":\"1\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-baseline\",\"strategy.spinnaker.io/versioned\":\"false\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"},\"name\":\"issuegen-baseline\",\"namespace\":\"deploy-prod\"},\"spec\":{\"progressDeadlineSeconds\":600,\"replicas\":1,\"revisionHistoryLimit\":0,\"selector\":{\"matchLabels\":{\"app\":\"issuegen\"}},\"strategy\":{\"rollingUpdate\":{\"maxSurge\":\"25%\",\"maxUnavailable\":\"25%\"},\"type\":\"RollingUpdate\"},\"template\":{\"metadata\":{\"annotations\":{\"artifact.spinnaker.io/location\":\"deploy-prod\",\"artifact.spinnaker.io/name\":\"issuegen-baseline\",\"artifact.spinnaker.io/type\":\"kubernetes/deployment\",\"artifact.spinnaker.io/version\":\"\",\"moniker.spinnaker.io/application\":\"demorefapp\",\"moniker.spinnaker.io/cluster\":\"deployment issuegen-baseline\",\"prometheus.io/scrape\":\"true\",\"prometheus_io_path\":\"/mgmt/prometheus\",\"prometheus_io_port\":\"8088\"},\"labels\":{\"app\":\"issuegen\",\"app.kubernetes.io/managed-by\":\"spinnaker\",\"app.kubernetes.io/name\":\"demorefapp\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"APPDYNAMICS_AGENT_NODE_NAME\",\"value\":\"baseline\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_NAME\",\"value\":\"opsmx-nfr\"},{\"name\":\"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY\",\"value\":\"usbaiygdu1j9\"},{\"name\":\"APPDYNAMICS_CONTROLLER_HOST_NAME\",\"value\":\"opsmx-nfr.saas.appdynamics.com\"},{\"name\":\"APPDYNAMICS_AGENT_APPLICATION_NAME\",\"value\":\"issuegen-demo\"},{\"name\":\"APPDYNAMICS_AGENT_TIER_NAME\",\"value\":\"issuegen-demo\"}],\"image\":\"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262\",\"imagePullPolicy\":\"Always\",\"name\":\"issuegen-baseline\",\"ports\":[{\"containerPort\":8088,\"name\":\"http\",\"protocol\":\"TCP\"}],\"resources\":{},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\"}],\"dnsPolicy\":\"ClusterFirst\",\"restartPolicy\":\"Always\",\"schedulerName\":\"default-scheduler\",\"securityContext\":{},\"terminationGracePeriodSeconds\":30}}}}\n","moniker.spinnaker.io/cluster":"deployment issuegen-baseline","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"apiVersion":"apps/v1","kind":"Deployment","spec":{"template":{"metadata":{"annotations":{"artifact.spinnaker.io/version":"","artifact.spinnaker.io/name":"issuegen-baseline","prometheus_io_path":"/mgmt/prometheus","artifact.spinnaker.io/location":"deploy-prod","prometheus.io/scrape":"true","prometheus_io_port":"8088","artifact.spinnaker.io/type":"kubernetes/deployment","moniker.spinnaker.io/cluster":"deployment issuegen-baseline","moniker.spinnaker.io/application":"demorefapp"},"labels":{"app":"issuegen","app.kubernetes.io/managed-by":"spinnaker","app.kubernetes.io/name":"demorefapp"}},"spec":{"dnsPolicy":"ClusterFirst","terminationGracePeriodSeconds":30.0,"containers":[{"image":"quay.io/opsmxpublic/canary-issuegen:issue-canary-gen-1262","imagePullPolicy":"Always","terminationMessagePolicy":"File","terminationMessagePath":"/dev/termination-log","name":"issuegen-baseline","resources":{},"env":[{"name":"APPDYNAMICS_AGENT_NODE_NAME","value":"baseline"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_NAME","value":"opsmx-nfr"},{"name":"APPDYNAMICS_AGENT_ACCOUNT_ACCESS_KEY","value":"usbaiygdu1j9"},{"name":"APPDYNAMICS_CONTROLLER_HOST_NAME","value":"opsmx-nfr.saas.appdynamics.com"},{"name":"APPDYNAMICS_AGENT_APPLICATION_NAME","value":"issuegen-demo"},{"name":"APPDYNAMICS_AGENT_TIER_NAME","value":"issuegen-demo"}],"ports":[{"protocol":"TCP","name":"http","containerPort":8088.0}]}],"securityContext":{},"restartPolicy":"Always","schedulerName":"default-scheduler"}},"replicas":1.0,"revisionHistoryLimit":0.0,"selector":{"matchLabels":{"app":"issuegen"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxSurge":"25%","maxUnavailable":"25%"}},"progressDeadlineSeconds":600.0},"status":{"replicas":1.0,"readyReplicas":1.0,"conditions":[{"reason":"MinimumReplicasAvailable","lastTransitionTime":"2022-06-07T14:02:51Z","message":"Deployment has minimum availability.","type":"Available","lastUpdateTime":"2022-06-07T14:02:51Z","status":"True"},{"reason":"NewReplicaSetAvailable","lastTransitionTime":"2022-06-04T06:35:20Z","message":"ReplicaSet \"issuegen-baseline-97cb96469\" has successfully progressed.","type":"Progressing","lastUpdateTime":"2022-06-07T14:02:51Z","status":"True"}],"updatedReplicas":1.0,"availableReplicas":1.0,"observedGeneration":36.0}}],"artifacts":[{"type":"kubernetes/deployment","customKind":false,"name":"issuegen-baseline","version":"","location":"deploy-prod","reference":"issuegen-baseline","metadata":{"account":"prod-account"}}]},"tasks":[{"id":"1","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.ResolveDeploySourceManifestTask","name":"resolveDeploySourceManifest","startTime":1654614617003,"endTime":1654614617120,"status":"SUCCEEDED","stageStart":true,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"2","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.DeployManifestTask","name":"deployManifest","startTime":1654614617178,"endTime":1654614617410,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"3","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorDeploy","startTime":1654614617467,"endTime":1654614623121,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"4","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654614684288,"endTime":1654614684402,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"5","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.WaitForManifestStableTask","name":"waitForManifestToStabilize","startTime":1654614684458,"endTime":1654614822615,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"6","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.artifacts.CleanupArtifactsTask","name":"cleanupArtifacts","startTime":1654614822681,"endTime":1654614822949,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"7","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.MonitorKatoTask","name":"monitorCleanup","startTime":1654614823018,"endTime":1654614824327,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"8","implementingClass":"com.netflix.spinnaker.orca.clouddriver.tasks.manifest.PromoteManifestKatoOutputsTask","name":"promoteOutputs","startTime":1654614824388,"endTime":1654614824514,"status":"SUCCEEDED","stageStart":false,"stageEnd":false,"loopStart":false,"loopEnd":false},{"id":"9","implementingClass":"com.netflix.spinnaker.orca.pipeline.tasks.artifacts.BindProducedArtifactsTask","name":"bindProducedArtifacts","startTime":1654614824573,"endTime":1654614824689,"status":"SUCCEEDED","stageStart":false,"stageEnd":true,"loopStart":false,"loopEnd":false}],"requisiteStageRefIds":["7"]}],"startTime":1654613866900,"endTime":1654617090074,"status":"SUCCEEDED","authentication":{"user":"adminchange","allowedAccounts":["uat-account","accountdev","spin-dev","sales-k8s-demo","rol-spinnaker-managed-role","qa-account","test-account","dockerhub","dev-account","prod-account","newdevdemo","staging-account","jfrog-docker","default","ecs-rol-spinnaker-managed-role","balaji-k8s-demo"]},"origin":"api","trigger":{"type":"manual","user":"adminchange","parameters":{},"artifacts":[],"notifications":[],"rebake":false,"dryRun":false,"strategy":false,"resolvedExpectedArtifacts":[],"expectedArtifacts":[],"executionId":"01G4ZAQY7JJ4MR5SJAM009A3TK","eventId":"cfe8aeac-198e-45fe-a489-a46d8213916c","enabled":false,"preferred":false},"pipelineConfigId":"bfa2f5c6-ab49-4d07-9bf8-21c8423e5930","notifications":[{"address":"isd-slackops-notification","level":"pipeline","message":{"pipeline.complete":{"text":"Pipeline Complete"},"pipeline.starting":{"text":"Pipeline Started"},"pipeline.failed":{"text":"Pipeline Failed: Investigation Required"}},"type":"slack","when":["pipeline.starting","pipeline.complete","pipeline.failed"]}],"initialConfig":{},"systemNotifications":[],"spelEvaluator":"v4"}
